# 1. `top` íƒ€ì…

4ì¥ ê°ì²´ì—ì„œ ê°€ëŠ¥í•œ ê°’ì´ ì—†ê³ , ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ íƒ€ì…ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ `bottom` ê°œë…ì„ ì–¸ê¸‰í•œ ì ì´ ìˆë‹¤. ë‹¹ì—°íˆ ê·¸ ë°˜ëŒ€ì˜ ê°œë…ë„ ì¡´ì¬í•œë‹¤.

`top` íƒ€ì…ì€ ì‹œìŠ¤í…œì—ì„œ ê°€ëŠ¥í•œ ëª¨ë“  ê°’ì„ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì´ë‹¤. ëª¨ë“  ë‹¤ë¥¸ íƒ€ì…ì˜ ê°’ì€ íƒ€ì…ì´ `top`ì¸ ìœ„ì¹˜ì— ì œê³µë  ìˆ˜ ìˆë‹¤. ì¦‰, ëª¨ë“  íƒ€ì…ì€ `top` íƒ€ì…ì— í• ë‹¹í•  ìˆ˜ ìˆë‹¤.

## 1.1 `any` ë‹¤ì‹œ ë³´ê¸°

`any` íƒ€ì…ì€ ëª¨ë“  íƒ€ì…ì˜ ìœ„ì¹˜ì— ì œê³µë  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ `top` íƒ€ì…ì²˜ëŸ¼ ì‘ë™í•  ìˆ˜ ìˆë‹¤. `any`ëŠ” ì¼ë°˜ì ìœ¼ë¡œ `console.log`ì˜ ë§¤ê°œë³€ìˆ˜ì™€ ê°™ì´ ëª¨ë“  íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ë°›ì•„ë“¤ì´ëŠ” ìœ„ì¹˜ì—ì„œ ì‚¬ìš©í•œë‹¤.

```tsx
let anyValue: any;
anyValue = 123;
anyValue = "abc";

console.log(anyValue);
```

ë‹¤ë§Œ `any`ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ í•´ë‹¹ ê°’ì— ëŒ€í•œ í• ë‹¹ ê°€ëŠ¥ì„± ë˜ëŠ” ë©¤ë²„ì— íƒ€ì… ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šë„ë¡ ëª…ì‹œì ìœ¼ë¡œ ì§€ì‹œí•œë‹¤ëŠ” ë¬¸ì œì ì„ ê°–ëŠ”ë‹¤. ì´ëŸ¬í•œ ì•ˆì •ì„± ë¶€ì¡±ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ê²€ì‚¬ê¸°ë¥¼ ë¹ ë¥´ê²Œ ê±´ë„ˆë›°ë ¤ê³  í•  ë•Œ ìœ ìš©í•˜ì§€ë§Œ, íƒ€ì… ê²€ì‚¬ë¥¼ ë¹„í™œì„±í™” í•˜ë©´ í•´ë‹¹ ê°’ì— ëŒ€í•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ìœ ìš©ì„±ì´ ì¤„ì–´ë“ ë‹¤.

ì–´ë–¤ ê°’ì´ë“  ë  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ë‚´ë ¤ë©´ `unknown` íƒ€ì…ì´ í›¨ì”¬ ì•ˆì „í•˜ë‹¤.

## 1.2 `unknown`

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ `unknown` íƒ€ì…ì€ ì§„ì •í•œ top íƒ€ì…ì´ë‹¤. ëª¨ë“  ê°ì²´ë¥¼ `unknown` íƒ€ì…ì˜ ìœ„ì¹˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ `any` íƒ€ì…ê³¼ ìœ ì‚¬í•˜ë‹¤. `unknown` íƒ€ì…ê³¼ `any` íƒ€ì…ì˜ ì£¼ìš” ì°¨ì´ì ìœ¼ë¡œëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `unknown` íƒ€ì…ì˜ ê°’ì„ í›¨ì”¬ ë” ì œí•œì ìœ¼ë¡œ ì·¨ê¸‰í•œë‹¤ëŠ” ì ì´ë‹¤.

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `unknown` íƒ€ì… ê°’ì˜ ì†ì„±ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.
- `unknown` íƒ€ì…ì€ `top` íƒ€ì…ì´ ì•„ë‹Œ íƒ€ì…ì—ëŠ” í• ë‹¹í•  ìˆ˜ ì—†ë‹¤.

ì•„ë˜ ì½”ë“œì²˜ëŸ¼ `unknown` íƒ€ì… ê°’ì˜ ì†ì„±ì— ì ‘ê·¼í•˜ë ¤ê³  ì‹œë„í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒ€ì… ì˜¤ë¥˜ë¥¼ ë³´ê³ í•œë‹¤.

```tsx
function greetComedian(name: unknown) {
  console.log(`Announcing ${name.toUpperCase()}`);
  //                        ^^^^ 'name' is of type 'unknown'.
}
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ `unknown` íƒ€ì…ì¸ `name`ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ë°©ë²•ì€ `instanceof`ë‚˜ `typeof` ë˜ëŠ” íƒ€ì… ì–´ì„œì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ê°’ì˜ íƒ€ì…ì´ ì œí•œëœ ê²½ìš°ë‹¤.

ì•„ë˜ ì½”ë“œëŠ” `unknown`ì—ì„œ `string`ìœ¼ë¡œ íƒ€ì…ì„ ì¢íˆê¸° ìœ„í•´ `typeof`ë¥¼ ì‚¬ìš©í•œë‹¤.

```tsx
function greetComedianSafety(name: unknown) {
  if (typeof name === "string") {
    // => nameì˜ íƒ€ì…ì€ unknownì´ì§€ë§Œ
    console.log(`Announcing ${name.toUpperCase()}`); // => stringìœ¼ë¡œ ë‚´ë¡œì‰ëœë‹¤.
  } else {
    console.log("Well, I'm off.");
  }
}

greetComedianSafety("Amy Schumer"); // Announcing AMY SCHUMER
greetComedianSafety(123); // Well, I'm off.
```

ì•ì„œ ì´ì•¼ê¸°í•œ `unknown` íƒ€ì… ê°’ì˜ ë‘ ê°€ì§€ ì œí•œìœ¼ë¡œ ì¸í•´ `unknown`ì´ `any`ë³´ë‹¤ í›¨ì”¬ ì•ˆì „í•œ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ê°€ëŠ¥í•˜ë‹¤ë©´ `any` ëŒ€ì‹  `unknown`ì„ ì‚¬ìš©í•˜ì.

# 2. íƒ€ì… ì„œìˆ ì–´

`instanceof`, `typeof`ì™€ ê°™ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ íƒ€ì…ì„ ì¢íˆëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ë‹¤.

ì œí•œëœ ê²€ì‚¬ë¡œ ì´ ë°©ë²•ì„ ì§ì ‘ ì‚¬ìš©í•  ë•ŒëŠ” ê´œì°®ì§€ë§Œ, ë¡œì§ì„ í•¨ìˆ˜ë¡œ ê°ì‹¸ë©´ íƒ€ì…ì„ ì¢í ìˆ˜ ì—†ê²Œ ëœë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ `isNumberOrString` í•¨ìˆ˜ëŠ” `value`ë¥¼ ë°›ê³  ê·¸ ê°’ì´ `number` ë˜ëŠ” `string`ì¸ì§€ ë‚˜íƒ€ë‚´ëŠ” `boolean` ê°’ì„ ë°˜í™˜í•œë‹¤. `isNumberOrString(value)`ê°€ `true`ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ `if` ë¬¸ ë‚´ë¶€ì˜ ê°’ì´ ë‘ ê°€ì§€ íƒ€ì… ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•œë‹¤ê³  ìœ ì¶”í•  ìˆ˜ ìˆì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `isNumberOrString`ì´ `boolean` ê°’ì„ ë°˜í™˜í•œë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ì•Œ ìˆ˜ ìˆê³ , ì¸ìˆ˜ì˜ íƒ€ì…ì„ ì¢íˆê¸° ìœ„í•¨ì´ë¼ëŠ” ê±´ ì•Œ ìˆ˜ ì—†ë‹¤.

```tsx
function isNumberOrString(value: string) {
  return ["number", "string"].includes(typeof value);
}

function logValueIfExists(value: number | string | null | undefined) {
  if (isNumberOrString(value)) {
    //                   ^^^^^ Argument of type 'string | number | null | undefined' is not assignable to parameter of type 'string'.
    //                         Type 'undefined' is not assignable to type 'string'.
    value.toString();
    //^^^^^ 'value' is possibly 'null' or 'undefined'.
  } else {
    console.log("Value does not exist:", value);
  }
}
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ì¸ìˆœê°€ íŠ¹ì • íƒ€ì…ì¸ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ `boolean` ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ìœ„í•œ íŠ¹ë³„í•œ êµ¬ë¬¸ì´ ìˆë‹¤. ì´ë¥¼ â€œ**íƒ€ì… ì„œìˆ ì–´type predicateâ€**ë¼ê³  ë¶€ë¥´ë©° â€˜ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œuser-defined type guardâ€™ë¼ê³ ë„ ë¶€ë¥¸ë‹¤. íƒ€ì… ì„œìˆ ì–´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ëœ ì¸ìˆ˜ê°€ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ë³´ë‹¤ ë” êµ¬ì²´ì ì¸ íƒ€ì…ì¸ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©ëœë‹¤.

íƒ€ì… ì„œìˆ ì–´ì˜ ë°˜í™˜ íƒ€ì…ì€ ë§¤ê°œë³€ìˆ˜ì˜ ì´ë¦„, `is` í‚¤ì›Œë“œ, íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.

```tsx
function typePredicate(input: WideType): input is NarrowType;
```

ì´ì „ ì½”ë“œì˜ `isNumberOrString` í•¨ìˆ˜ì—ì„œ `value`ë¥¼ `value is number | string`ìœ¼ë¡œ ëª…ì‹œì ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ëª…ì‹œì  ë°˜í™˜ íƒ€ì…ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `value`ê°€ `number | string`ì¸ ê²½ìš° ì½”ë“œ ë¸”ë¡ì€ `number | string` íƒ€ì…ì˜ ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤ê³  ì¶”ë¡ í•œë‹¤.

ë°˜ë©´ì— `value`ê°€ `number | string`ì´ ì•„ë‹Œ ê²½ìš°ì˜ ì½”ë“œ ë¸”ë¡ì€ `null | undefined` íƒ€ì…ì˜ ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤.

```tsx
function isNumberOrString(value: unknown): value is number | string {
  return ["number", "string"].includes(typeof value);
}

function logValueIfExists(value: number | string | null | undefined) {
  if (isNumberOrString(value)) {
    value.toString(); // valueì˜ íƒ€ì…ì€ number | string
  } else {
    console.log("Value does not exist:", value); // valueì˜ íƒ€ì…ì€ null | undefined
  }
}
```

íƒ€ì… ì„œìˆ ì–´ëŠ” ë‹¨ìˆœíˆ `boolean` ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¸ìˆ˜ê°€ ë” êµ¬ì²´ì ì¸ íƒ€ì…ì„ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.

íƒ€ì… ì„œìˆ ì–´ëŠ” ì´ë¯¸ í•œ ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì•Œë ¤ì§„ ê°ì²´ê°€ ë” êµ¬ì²´ì ì¸ ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ ì—¬ë¶€ë¥¼ ê²€ì‚¬í•˜ëŠ” ë° ìì£¼ ì‚¬ìš©ëœë‹¤.

ì•„ë˜ `StandupComedian` ì¸í„°í˜ì´ìŠ¤ëŠ” `Comedian` ì¸í„°í˜ì´ìŠ¤ ìœ„ì— ì¶”ê°€ ì •ë³´ë¥¼ ê°–ëŠ”ë‹¤. `isStandupComedian` íƒ€ì… ê°€ë“œëŠ” `Comedain`ì´ êµ¬ì²´ì ìœ¼ë¡œ `StandupComedian`ì¸ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•œëŠë° ì‚¬ìš© ëœë‹¤.

```tsx
interface Comedian {
  funny: boolean;
}

interface StandupComedian extends Comedian {
  routine: string;
}

function isStandupComedian(value: Comedian): value is StandupComedian {
  return "routine" in value;
}

function workWithComedian(value: Comedian) {
  if (isStandupComedian(value)) {
    console.log(value.routine); // valueì˜ íƒ€ì…ì€ StandupComedian
  }

  console.log(value.routine); // valueì˜ íƒ€ì…ì€ Comedian
  //                ^^^^^^^ Property 'routine' does not exist on type 'Comedian'.
}
```

íƒ€ì… ì„œìˆ ì–´ëŠ” `false` ì¡°ê±´ì—ì„œ íƒ€ì…ì„ ì¢íˆê¸° ë•Œë¬¸ì— íƒ€ì… ì„œìˆ ì–´ê°€ ì…ë ¥ëœ íƒ€ì… ì´ìƒì„ ê²€ì‚¬í•˜ëŠ” ê²½ìš° ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒì„ ì£¼ì˜í•˜ì.

ì•„ë˜ `isLongString` íƒ€ì… ì„œìˆ ì–´ëŠ” `input` ë§¤ê°œë³€ìˆ˜ê°€ `undefined` ë˜ëŠ” ê¸¸ì´ê°€ `7`ë³´ë‹¤ ì‘ì€ `string`ì¸ ê²½ìš° `false`ë¥¼ ë°˜í™˜í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ `else` ë¬¸(`false` ì¡°ê±´)ì€ `text`ë¥¼ `undefined` íƒ€ì…ìœ¼ë¡œ ì¢íŒë‹¤.

```tsx
function isLongString(input: string | undefined): input is string {
  return !!input && input.length > 7;
}

function workWithText(text: string | undefined) {
  if (isLongString(text)) {
    console.log("Logn text:", text.length); // textì˜ íƒ€ì…ì€ string
  } else {
    console.log("Short text:", text?.length); // textì˜ íƒ€ì…ì€ undefined
    //                              ^^^^^^ Property 'length' does not exist on type 'never'.
  }
}
```

í•˜ì§€ë§Œ íƒ€ì… ì„œìˆ ì–´ëŠ” ì†ì„±ì´ë‚˜ ê°’ì˜ íƒ€ì…ì„ í™•ì¸í•˜ëŠ” ê²ƒ ì´ìƒì„ ìˆ˜í–‰í•´ ì˜ëª» ì‚¬ìš©í•˜ê¸° ì‰¬ìœ¼ë¯€ë¡œ ê°€ëŠ¥í•˜ë©´ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ëŒ€ë¶€ë¶„ì€ ê°„ë‹¨í•œ íƒ€ì… ì„œìˆ ì–´ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ë‹¤.

# 3. íƒ€ì… ì—°ì‚°ì

í‚¤ì›Œë“œë‚˜ ê¸°ì¡´ íƒ€ì…ì˜ ì´ë¦„ë§Œ ì‚¬ìš©í•´ ëª¨ë“  íƒ€ì…ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ëŠ” ì—†ë‹¤. ë–„ë¡œëŠ” ê¸°ì¡´ íƒ€ì…ì˜ ì†ì„± ì¼ë¶€ë¥¼ ë³€í™˜í•´ì„œ ë‘ íƒ€ì…ì„ ê²°í•©í•˜ëŠ” ìƒˆë¡œìš´ íƒ€ì…ì„ ìƒì„±í•´ì•¼ í•  ë•Œë„ ìˆë‹¤.

## 3.1 `keyof`

ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ëŠ” (ë°˜ë“œì‹œ ê·¸ë ‡ì§€ëŠ” ì•Šì§€ë§Œ) ì¼ë°˜ì ìœ¼ë¡œ `string` íƒ€ì…ì¸ ë™ì ê°’ì„ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰ëœ ë©¤ë²„ë¥¼ ê°–ëŠ”ë‹¤. íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ì´ëŸ¬í•œ í‚¤ë¥¼ í‘œí˜„í•˜ë ¤ë©´ ìƒë‹¹íˆ ê¹Œë‹¤ë¡œìš¸ ìˆ˜ ìˆë‹¤. `string` ê°™ì€ í¬ê´„ì ì¸ ì›ì‹œ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆ ê°’ì— ëŒ€í•´ ìœ íš¨í•˜ì§€ ì•Šì€ í‚¤ê°€ í—ˆìš©ëœë‹¤.

ì—„ê²©í•œ êµ¬ì„± ì„¤ì •ì„ ì‚¬ìš©í•  ë•Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•„ë˜ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒê³¼ ê°™ì€ ratings[key]ì— ëŒ€í•œ ì˜¤ë¥˜ë¥¼ ë³´ê³ í•œë‹¤. íƒ€ì… stringì€ Ratings ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì†ì„±ìœ¼ë¡œ í—ˆìš©ë˜ì§€ ì•ŠëŠ” ê°’ì„ í—ˆìš©í•˜ê³ , RatingsëŠ” string í‚¤ë¥¼ í—ˆìš©í•˜ëŠ” ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì„ ì–¸í•˜ì§€ ì•ŠëŠ”ë‹¤.

```tsx
interface Ratings {
  audience: number;
  critics: number;
}

function getRating(ratings: Ratings, key: string): number {
  return ratings[key];
  //     ^^^^^^^^^^^^ Element implicitly has an 'any' type because expression of type 'string' can't be used to index type 'Ratings'.
  //                  No index signature with a parameter of type 'string' was found on type 'Ratings'.
}

const ratings: Ratings = {
  audience: 95,
  critics: 98,
};

getRating(ratings, "audience");
getRating(ratings, "critics");

getRating(ratings, "not valid"); // í—ˆìš©ë˜ì§€ë§Œ ì‚¬ìš©í•˜ë©´ ì•ˆë¨
```

ë˜ ë‹¤ë¥¸ ì˜µì…˜ì€ í—ˆìš©ë˜ëŠ” í‚¤ë¥¼ ìœ„í•œ ë¦¬í„°ëŸ´ ìœ ë‹ˆì–¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ê²½ìš° ì»¨í…Œì´ë„ˆ ê°’ì— ì¡´ì¬í•˜ëŠ” í‚¤ë§Œ ì ì ˆí•˜ê²Œ ì œí•œí•˜ëŠ” ê²ƒì´ ë” ì •í™•í•˜ë‹¤.

```tsx
interface Ratings {
  audience: number;
  critics: number;
}

function getRating(ratings: Ratings, key: "audience" | "critics"): number {
  return ratings[key];
}

const ratings: Ratings = {
  audience: 95,
  critics: 98,
};

getRating(ratings, "audience");
getRating(ratings, "critics");

getRating(ratings, "not valid");
//                 ^^^^^^^^^^^ Argument of type '"not valid"' is not assignable to parameter of type '"audience" | "critics"'.
```

ê·¸ëŸ¬ë‚˜ ì¸í„°í˜ì´ìŠ¤ì— ìˆ˜ì‹­ ê°œ ì´ìƒì˜ ë©¤ë²„ê°€ ìˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ê° ë©¤ë²„ì˜ í‚¤ë¥¼ ìœ ë‹ˆì–¸ íƒ€ì…ì— ëª¨ë‘ ì…ë ¥í•˜ê³  ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼ í•˜ëŠ” ìƒë‹¹íˆ ë²ˆê±°ë¡œìš´ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.

ëŒ€ì‹  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” íƒ€ì…ì„ ì‚¬ìš©í•˜ê³ , í•´ë‹¹ íƒ€ì…ì— í—ˆìš©ë˜ëŠ” ëª¨ë“  í‚¤ì˜ ì¡°í•©ì„ ë°˜í™˜í•˜ëŠ” `keyof` ì—°ì‚°ìë¥¼ ì œê³µí•œë‹¤. íƒ€ì… ì• ë„ˆí…Œì´ì…˜ì²˜ëŸ¼ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê³³ì—ì„œ íƒ€ì… ì´ë¦„ ì•ì— `keyof` ì—°ì‚°ìë¥¼ ë°°ì¹˜í•œë‹¤.

ì•„ë˜ `keyof Ratings`ëŠ” `"audience" | "critics"`ê³¼ ë™ì¼í•˜ì§€ë§Œ, ì‘ì„±í•˜ëŠ” ê²ƒì´ í›¨ì”¬ ë¹ ë¥´ê³  `Ratings` ì¸í„°í˜ì´ìŠ¤ê°€ ë³€ê²½ë˜ë”ë¼ë„ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  í•„ìš”ê°€ ì—†ë‹¤.

```tsx
interface Ratings {
  audience: number;
  critics: number;
}

function getCountKeyof(ratings: Ratings, key: keyof Ratings) {
  return ratings[key];
}

const ratings: Ratings = {
  audience: 95,
  critics: 98,
};

getCountKeyof(ratings, "audience");
getCountKeyof(ratings, "critics");

getCountKeyof(ratings, "not valid");
//                     ^^^^^^^^^^^ Argument of type '"not valid"' is not assignable to parameter of type 'keyof Ratings'.
```

`keyof`ëŠ” ì¡´ì¬í•˜ëŠ” íƒ€ì…ì˜ í‚¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìœ ë‹ˆì–¸ íƒ€ì…ì„ ìƒì„±í•˜ëŠ” í›Œë¥­í•œ ê¸°ëŠ¥ì´ë‹¤.

## 3.2 `typeof`

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ë˜ ë‹¤ë¥¸ íƒ€ì… ì—°ì‚°ìëŠ” `typeof`ì´ë‹¤. `typeof`ëŠ” ì œê³µë˜ëŠ” ê°’ì˜ íƒ€ì…ì„ ë°˜í™˜í•œë‹¤. `typeof`ëŠ” ê°’ì˜ íƒ€ì…ì„ ìˆ˜ë™ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ë³µì¡í•œ ê²½ìš°ì— ì‚¬ìš©í•˜ë©´ ë§¤ìš° ìœ ìš©í•˜ë‹¤.

ì•„ë˜ `adaptation` ë³€ìˆ˜ëŠ” `original`ê³¼ ë™ì¼í•œ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë˜ì—ˆë‹¤.

```tsx
const original = {
  medium: "movie",
  title: "Mean Girls",
};

let adaptation: typeof original;

if (Math.random() > 0.5) {
  adaptation = {
    ...original,
    medium: "play",
  };
} else {
  adaptation = {
    ...original,
    medium: 2,
    //^^^^^^ Type 'number' is not assignable to type 'string'.
  };
}
```

`typeof` íƒ€ì… ì—°ì‚°ìëŠ” ì‹œê°ì ìœ¼ë¡œ ì£¼ì–´ì§„ ê°’ì´ ì–´ë–¤ íƒ€ì…ì¸ì§€ë¥¼ ë°˜í™˜í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëŸ°íƒ€ì„ `typeof` ì—°ì‚°ìì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì´ ë‘˜ì€ ì°¨ì´ê°€ ìˆë‹¤. ë‘˜ì€ ë‹¨ì§€ ìš°ì—°íˆ ê°™ì€ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•  ë¿ì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `typeof` ì—°ì‚°ìëŠ” íƒ€ì…ì— ëŒ€í•œ ë¬¸ìì—´ ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ” ëŸ°íƒ€ì„ ì—°ì‚°ìë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ `typeof` ì—°ì‚°ìëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ì»´íŒŒì¼ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì—ëŠ” ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤.

### 3.2.1 `keyof` `typeof`

`typeof`ëŠ” ê°’ì˜ íƒ€ì…ì„ ê²€ìƒ‰í•˜ê³ , `keyof`ëŠ” íƒ€ì…ì— í—ˆìš©ëœ í‚¤ë¥¼ ê²€ìƒ‰í•œë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‘ í‚¤ì›Œë“œë¥¼ í•¨ê»˜ ì—°ê²°í•´ ê°’ì˜ íƒ€ì…ì— í—ˆìš©ëœ í‚¤ë¥¼ ê°„ê²°í•˜ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤. ë‘ í‚¤ì›Œë“œë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ `typeof` íƒ€ì… ì—°ì‚°ìë¥¼ `keyof` íƒ€ì… ì—°ì‚°ìì™€ í•¨ê»˜ ì‘ì—…í•  ë•Œ ìœ ìš©í•˜ë‹¤.

ì•„ë˜ ì˜ˆì œì—ì„œ `logRating` í•¨ìˆ˜ëŠ” `ratings` ê°’ì˜ í‚¤ ì¤‘ í•˜ë‚˜ë¥¼ ë°›ëŠ”ë‹¤. ì½”ë“œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ ëŒ€ì‹ 
`keyof typeof`ë¥¼ ì‚¬ìš©í•´ í‚¤ê°€ `ratings` ê°’ íƒ€ì…ì˜ í‚¤ ì¤‘ í•˜ë‚˜ì—¬ì•¼í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤.

```tsx
const ratings = {
  imdb: 8.4,
  metacritic: 82,
};

function logRating(key: keyof typeof ratings) {
  console.log(ratings[key]);
}

logRating("imdb");
logRating("metacritic");

logRating("invalid");
//        ^^^^^^^^^ Argument of type '"invalid"' is not assignable to parameter of type '"imdb" | "metacritic"'.
```

`keyof`ì™€ `typeof`ë¥¼ ê²°í•©í•´ì„œ ì‚¬ìš©í•˜ë©´ ëª…ì‹œì  ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì´ ì—†ëŠ” ê°ì²´ì— í—ˆì˜ëœ í‚¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì— ëŒ€í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ìˆ˜ê³ ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

# 4. íƒ€ì… ì–´ì„œì…˜

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì½”ë“œê°€ ê°•ë ¥í•˜ê²Œ **â€œíƒ€ì…í™”strongly typedâ€**ë  ë•Œ ê°€ì¥ ì˜ ì‘ë™í•œë‹¤. ì¦‰, ì½”ë“œì˜ ëª¨ë“  ê°’ì´ ì •í™•íˆ ì•Œë ¤ì§„ íƒ€ì…ì„ ê°€ì§€ëŠ” ê²½ìš°ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ê²€ì‚¬ê¸°ê°€ ë³µì¡í•œ ì½”ë“œë¥¼ ì´í•´í•  ìˆ˜ ìˆë„ë¡ `top` íƒ€ì…ê³¼ íƒ€ì… ê°€ë“œ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ê·¸ëŸ¬ë‚˜ ê²½ìš°ì— ë”°ë¼ì„œëŠ” ì½”ë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ íƒ€ì… ì‹œìŠ¤í…œì— 100% ì •í™•í•˜ê²Œ ì•Œë¦¬ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•  ë•Œë„ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `JSON.parse`ëŠ” ì˜ë„ì ìœ¼ë¡œ `top` íƒ€ì…ì¸ `any`ë¥¼ ë°˜í™˜í•œë‹¤. `JSON.parse`ì— ì£¼ì–´ì§„ íŠ¹ì • ë¬¸ìì—´ê°’ì´ íŠ¹ì •í•œ ê°’ íƒ€ì…ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ íƒ€ì… ì‹œìŠ¤í…œì— ì•ˆì „í•˜ê²Œ ì•Œë¦´ ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ë‹¤. ë°˜í™˜ íƒ€ì…ì— ëŒ€í•´ í•œ ë²ˆë§Œ ì‚¬ìš©ë˜ëŠ” ì œë„¤ë¦­ íƒ€ì…ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì œë„¤ë¦­ì˜ í™©ê¸ˆë¥ The Golen Rule of Genericsë¡œ ì•Œë ¤ì§„ ëª¨ë²” ì‚¬ë¡€ë¥¼ ìœ„ë°˜í•˜ëŠ” ê²ƒì´ë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°’ì˜ íƒ€ì…ì— ëŒ€í•œ íƒ€ì… ì‹œìŠ¤í…œì˜ ì´í•´ë¥¼ ì¬ì •ì˜í•˜ê¸° ìœ„í•œ êµ¬ë¬¸ìœ¼ë¡œ **â€œíƒ€ì… ì–´ì„œì…˜type assertionâ€**(íƒ€ì… ìºìŠ¤íŠ¸type castë¼ê³ ë„ ë¶€ë¥¸ë‹¤.)ì„ ì œê³µí•œë‹¤. ë‹¤ë¥¸ íƒ€ì…ì„ ì˜ë¯¸í•˜ëŠ” ê°’ì˜ íƒ€ì… ë‹¤ìŒì— `as` í‚¤ì›Œë“œë¥¼ ë°°ì¹˜í•œë‹¤. íƒ€ì… ì‹œìŠ¤í…œì€ ì–´ì„œì…˜ì„ ë”°ë¥´ê³  ê°’ì„ í•´ë‹¹ íƒ€ì…ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

ì•„ë˜ ì½”ë“œì—ì„œ `JSON.parse`ë¡œë¶€í„° ë°˜í™˜ëœ ê²°ê³¼ëŠ” `string[]`, `[string, string]`, `["grace", "frankie"]` ê°™ì€ íƒ€ì…ì´ ë  ìˆ˜ ìˆë‹¤. ì„¸ ì¤„ì˜ ì½”ë“œì—ì„œ íƒ€ì… ì–´ì„œì…˜ì„ ì‚¬ìš©í•´ `any`ì¸ íƒ€ì…ì„ ì…‹ ì¤‘ í•˜ë‚˜ë¡œ ì „í™˜í•œë‹¤.

```tsx
const rawData = '["grace", "frankie"]';

const result1 = JSON.parse(rawData); // íƒ€ì…ì€ any

const result2 = JSON.parse(rawData) as string[]; // íƒ€ì…ì€ string[]

const result3 = JSON.parse(rawData) as [string, string]; // íƒ€ì…ì€ [string, string]

const result4 = JSON.parse(rawData) as ["grace", "frankie"]; // íƒ€ì…ì€ ["grace", "frankie"]
```

íƒ€ì… ì–´ì„œì…˜ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì‹œìŠ¤í…œì—ë§Œ ì¡´ì¬í•˜ë©° ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì»´íŒŒì¼ë  ë•Œ ë‹¤ë¥¸ íƒ€ì… ì‹œìŠ¤í…œ êµ¬ë¬¸ê³¼ í•¨ê»˜ ì œê±°ëœë‹¤. ìœ„ ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì»´íŒŒì¼ í•˜ë©´ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```tsx
var rawData = '["grace", "frankie"]';
var result1 = JSON.parse(rawData);
var result2 = JSON.parse(rawData);
var result3 = JSON.parse(rawData);
var result4 = JSON.parse(rawData);
```

> ğŸ’¡ `item as type` ëŒ€ì‹  `<type>item` ê°™ì€ ìºìŠ¤íŒ… êµ¬ë¬¸ì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ êµ¬ë¬¸ì€ JSXì™€ í˜¸í™˜ë˜ì§€ ì•Šê³  `.tsx` íŒŒì¼ì—ì„œë„ ì‘ë™í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ëª¨ë²” ì‚¬ë¡€ëŠ” ê°€ëŠ¥í•œ í•œ íƒ€ì… ì–´ì„œì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤. ì½”ë“œê°€ ì™„ì „íˆ íƒ€ì…í™”ë˜ê³  ì–´ì„œì…˜ì„ ì‚¬ìš©í•´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ì´í•´ë¥¼ ë°©í•´í•  í•„ìš”ê°€ ì—†ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ë‹¤. ê·¸ëŸ¬ë‚˜ íƒ€ì… ì–´ì„œì…˜ì´ ìœ ìš©í•˜ê³  ì‹¬ì§€ì–´ í•„ìš”í•œ ê²½ìš°ê°€ ì¢…ì¢…ìˆë‹¤.

## 4.1 í¬ì°©ëœ ì˜¤ë¥˜ íƒ€ì… ì–´ì„œì…˜

ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•  ë•Œ íƒ€ì… ì–´ì„œì…˜ì´ ë§¤ìš° ìœ ìš©í•  ìˆ˜ ìˆë‹¤. `try` ë¸”ë¡ì˜ ì½”ë“œê°€ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— `catch` ë¸”ë¡ì—ì„œ í¬ì°©ëœ ì˜¤ë¥˜ê°€ ì–´ë–¤ íƒ€ì…ì¸ì§€ ì•„ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ê²Œë‹¤ê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ëª¨ë²” ì‚¬ë¡€ëŠ” í•­ìƒ `Error` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°œìƒì‹œí‚¤ì§€ë§Œ, ì¼ë¶€ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¬¸ìì—´ ë¦¬í„°ëŸ´ ë˜ëŠ” ë‹¤ë¥¸ ì˜ì™¸ì˜ ê°’ì„ ë°œìƒì‹œí‚¤ê¸°ë„ í•œë‹¤.

ì½”ë“œ ì˜ì˜ì´ `Error` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°œìƒì‹œí‚¬ ê±°ë¼ í‹€ë¦¼ì—†ì´ í™•ì‹ í•œë‹¤ë©´ íƒ€ì… ì–´ì„œì…˜ì„ ì‚¬ìš©í•´ í¬ì°©ëœ ì–´ì„œì…˜ì„ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì½”ë“œì—ì„œ `Error` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¼ê³  ê°€ì •ëœ `error`ì˜ `message` ì†ì„±ì— ì ‘ê·¼í•œë‹¤.

```tsx
try {
  // ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì½”ë“œ
} catch (error) {
  console.log("Error!!!", (error as Error).message);
}
```

ë°œìƒëœ ì˜¤ë¥˜ê°€ ì˜ˆìƒëœ ì˜¤ë¥˜ íƒ€ì…ì¸ì§€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ `instanceof` ê²€ì‚¬ì™€ ê°™ì€ íƒ€ì… ë‚´ë¡œì‰ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì•ˆì „í•˜ë‹¤. ì•„ë˜ ì½”ë“œëŠ” `catch` ë¸”ë¡ì— ë°œìƒí•œ `error`ê°€ `Error` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ë¥¼ ê²€ì‚¬í•´ ì½˜ì†”ì— `Error`ì˜ `message`ë¥¼ ì¶œë ¥í• ì§€ `error` ìì²´ë¥¼ ì¶œë ¥í• ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.

```tsx
try {
  // ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì½”ë“œ
} catch (error) {
  console.log("Error!!!", error instanceof Error ? error.message : error);
}
```

## 4.2 non-null ì–´ì„œì…˜

íƒ€ì… ì–´ì„œì…˜ì´ ìœ ìš©í•œ ê²½ìš°ë¥¼ í•˜ë‚˜ ë” ì‚´í´ë³´ìë©´, ì‹¤ì œë¡œëŠ” ì•„ë‹ˆê³  ì´ë¡ ì ìœ¼ë¡œë§Œ `null` ë˜ëŠ” `undefined`ë¥¼ í¬í•¨í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì—ì„œ `null`ê³¼ `undefined`ë¥¼ ì œê±°í•  ë•Œ íƒ€ì… ì–´ì„œì…˜ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë„ˆë¬´ í”í•œ ìƒí™©ì´ë¼ ì´ì™€ ê´€ë ¨ëœ ì•½ì–´ë¥¼ ì œê³µí•œë‹¤. `null`ê³¼ `undefined`ë¥¼ ì œì™¸í•œ ê°’ì˜ ì „ì²´ íƒ€ì…ì„ ì‘ì„±í•˜ëŠ” ëŒ€ì‹  `!`ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì¦‰, **non-null** ì–´ì„œì…˜ì€ íƒ€ì…ì´ `null`ê³¼ `undefined`ê°€ ì•„ë‹ˆë¼ê³  ê°„ì£¼í•œë‹¤.

ì•„ë˜ ë‘ ê°€ì§€ íƒ€ì… ì–´ì„œì…˜ì€ ë‘˜ ë‹¤ `Date | undefined`ê°€ ì•„ë‹ˆê³  `Date`ê°€ ëœë‹¤ëŠ” ì ì—ì„œ ë™ì¼í•˜ë‹¤.

```tsx
// íƒ€ì…ì€ Date | undefined
let maybeDate = Math.random() > 0.5 ? undefined : new Date();

maybeDate as Date; // íƒ€ì…ì€ Date

maybeDate!; // íƒ€ì…ì€ Date
```

non-null ì–´ì„œì…˜ì€ ê°’ì„ ë°˜í™˜í•˜ê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° `undefined`ë¥¼ ë°˜í™˜í•˜ëŠ” `Map.get`ê³¼ ê°™ì€ APIì—ì„œ íŠ¹íˆ ìœ ìš©í•˜ë‹¤.

ì•„ë˜ `seasonCounts`ëŠ” ì¼ë°˜ì ì¸ `Map<string, number>`ì´ë‹¤. `seasonCounts`ëŠ” `â€œI love Lucy"` í‚¤ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë¯€ë¡œ `knownValue` ë³€ìˆ˜ëŠ” `!`ë¥¼ ì‚¬ìš©í•´ í•´ë‹¹ íƒ€ì…ì—ì„œ `| undefined`ë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤.

```tsx
const seasonCounts = new Map([
  ["I love Lucy", 6.6],
  ["The Golden Girls", 7.7],
]);

const maybeValue = seasonCounts.get("I love Lucy"); // íƒ€ì…ì€ number | undefined
console.log(maybeValue.toFixed(1));
//          ^^^^^^^^^^               'maybeValue' is possibly 'undefined'.

const knownValue = seasonCounts.get("I love Lucy")**!**; // íƒ€ì…ì€ number
console.log(knownValue.toFixed(1));
```

## 4.3 íƒ€ì… ì–´ì„œì…˜ ì£¼ì˜ ì‚¬í•­

`any` íƒ€ì…ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íƒ€ì… ì–´ì„œì…˜ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ì‹œìŠ¤í…œì— í•„ìš”í•œ í•˜ë‚˜ì˜ ë„í”¼ ìˆ˜ë‹¨ì´ë‹¤. ë”°ë¼ì„œ `any` íƒ€ì…ì„ ì‚¬ìš©í•  ë•Œì²˜ëŸ¼ ê¼­ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ê°€ëŠ¥í•œ í•œ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤. ê°’ì˜ íƒ€ì…ì— ëŒ€í•´ ë” ì‰½ê²Œ ì–´ì„œì…˜í•˜ëŠ” ê²ƒë³´ë‹¤ ì½”ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë” ì •í™•í•œ íƒ€ì…ì„ ê°–ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë˜í•œ ì´ëŸ¬í•œ ì–´ì„œì…˜ì€ ì¢…ì¢… ì˜ëª»ë˜ê¸°ë„ í•œë‹¤. ì‘ì„± ë‹¹ì‹œ ì´ë¯¸ ì˜ëª»ë˜ì—ˆê±°ë‚˜ ì½”ë“œë² ì´ìŠ¤ê°€ ë³€ê²½ë¨ì— ë”°ë¼ ë‚˜ì¤‘ì— ë‹¬ë¼ì§€ê¸°ë„ í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `seasonCounts` ì½”ë“œì—ì„œ `Map`ì´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë‹¤ë¥¸ ê°’ì„ ê°–ë„ë¡ ë³€ê²½ëœë‹¤ê³  ê°€ì •í•´ ë³´ì. non-null ì–´ì„œì…˜ì€ ì—¬ì „íˆ ì½”ë“œê°€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ê²€ì‚¬ë¥¼ í†µê³¼í•˜ë„ë¡ ë§Œë“¤ì§€ë§Œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

```tsx
const seasonCounts = new Map([
  ["**I love John**", 6.6],
  ["The Golden Girls", 7.7],
]);

const knownValue = seasonCounts.get("I love Lucy")!; // íƒ€ì…ì€ number

console.log(knownValue.toFixed(1)); // íƒ€ì… ì˜¤ë¥˜ëŠ” ì•„ë‹ˆì§€ë§Œ, ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
```

íƒ€ì… ì–´ì„œì…˜ì€ ìì£¼ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ê³ , ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤ê³  í™•ì‹¤íˆ í™•ì‹ í•  ë•Œë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

### 4.3.1 ì–´ì„œì…˜ vs ì„ ì–¸

ë³€ìˆ˜ íƒ€ì…ì„ ì„ ì–¸í•˜ê¸° ìœ„í•´ íƒ€ì… ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ì´ˆê¹ƒê°’ìœ¼ë¡œ ë³€ìˆ˜ íƒ€ì…ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ íƒ€ì… ì–´ì„œì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì‚¬ì´ì—ëŠ” ì°¨ì´ê°€ ìˆë‹¤. ë³€ìˆ˜ì˜ íƒ€ì… ì• ë„ˆí…Œì´ì…˜ê³¼ ì´ˆê¹ƒê°’ì´ ëª¨ë‘ ìˆì„ ë•Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ê²€ì‚¬ê¸°ëŠ” ë³€ìˆ˜ì˜ íƒ€ì… ì• ë„ˆí…Œì´ì…˜ì— ëŒ€í•œ ë³€ìˆ˜ì˜ ì´ˆê¹ƒê°’ì— ëŒ€í•´ í• ë‹¹ ê°€ëŠ¥ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•œë‹¤. ê·¸ëŸ¬ë‚˜ íƒ€ì… ì–´ì„œì…˜ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì— íƒ€ì… ê²€ì‚¬ ì¤‘ ì¼ë¶€ë¥¼ ê±´ë„ˆë›°ë„ë¡ ëª…ì‹œì ìœ¼ë¡œ ì§€ì‹œí•œë‹¤.

ì•„ë˜ `acts` ë©¤ë²„ê°€ ì—†ëŠ” ë™ì¼í•œ ê²°í•¨ì„ ê°€ì§€ë©°, íƒ€ì…ì´ `Entertainer`ì¸ ê°ì²´ ë‘ ê°œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œì´ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `Entertainer` íƒ€ì… ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ ì¸í•´ `declared` ë³€ìˆ˜ì—ì„œ ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ íƒ€ì… ì–´ì„œì…˜ ë•Œë¬¸ì— `asserted` ë³€ìˆ˜ì— ëŒ€í•´ì„œëŠ” ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ì—†ë‹¤.

```tsx
interface Entertainer {
  acts: string[];
  name: string;
}

const declared: Entertainer = {
  //  ^^^^^^^^ Property 'acts' is missing in type '{ name: string; }' but required in type 'Entertainer'.
  name: "Moms Mabley",
};

const asserted = {
  name: "Moms Mabley",
} as Entertainer; // í—ˆìš©ë˜ì§€ë§Œ ëŸ°íƒ€ì„ ì‹œ ì˜¤ë¥˜ ë°œìƒ
```

ë”°ë¼ì„œ íƒ€ì… ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ê±°ë‚˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì´ˆê¹ƒê°’ì—ì„œ ë³€ìˆ˜ì˜ íƒ€ì…ì„ ìœ ì¶”í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ë§¤ìš° ë°”ëŒì§í•˜ë‹¤.

### 4.3.2 ì–´ì„œì…˜ í• ë‹¹ ê°€ëŠ¥ì„±

íƒ€ì… ì–´ì„œì…˜ì€ ì¼ë¶€ ê°’ì˜ íƒ€ì…ì´ ì•½ê°„ ì˜ëª»ëœ ìƒí™©ì—ì„œ í•„ìš”í•œ ì‘ì€ ë„í”¼ ìˆ˜ë‹¨ì¼ ë¿ì´ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒ€ì… ì¤‘ í•˜ë‚˜ê°€ ë‹¤ë¥¸ íƒ€ì…ì— í• ë‹¹ ê°€ëŠ¥í•œ ê²½ìš°ì—ë§Œ ë‘ íƒ€ì… ê°„ì˜ íƒ€ì… ì–´ì„œì…˜ì„ í—ˆìš©í•œë‹¤. ì™„ì „íˆ ì„œë¡œ ê´€ë ¨ì´ ì—†ëŠ” ë‘ íƒ€ì… ì‚¬ì´ì— íƒ€ì… ì–´ì„œì…˜ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì… ì˜¤ë¥˜ë¥¼ ê°ì§€í•˜ê³  ì•Œë ¤ì¤€ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì›ì‹œ íƒ€ì…ì€ ì„œë¡œ ê´€ë ¨ì´ ì „í˜€ ì—†ìœ¼ë¯€ë¡œ í•˜ë‚˜ì˜ ì›ì‹œ íƒ€ì…ì—ì„œ ë‹¤ë¥¸ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

```tsx
let myValue = "Stella!" as number;
//            ^^^^^^^^^^^^^^^^^^^ Conversion of type 'string' to type 'number' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
```

í•˜ë‚˜ì˜ íƒ€ì…ì—ì„œ ê°’ì„ ì™„ì „íˆ ê´€ë ¨ ì—†ëŠ” íƒ€ì…ìœ¼ë¡œ ì „í™˜í•´ì•¼ í•˜ëŠ” ê²½ìš° **â€œì´ì¤‘ íƒ€ì… ì–´ì„œì…˜double type assertionâ€** ì„ ì‚¬ìš©í•œë‹¤. ë¨¼ì € ê°’ì„ **any**ë‚˜ **unknown** ê°™ì€ **top** íƒ€ì…ìœ¼ë¡œ ì „í™˜í•œ ë‹¤ìŒ, ê·¸ ê²°ê³¼ë¥¼ ê´€ë ¨ ì—†ëŠ” íƒ€ì…ìœ¼ë¡œ ì „í™˜í•œë‹¤.

```tsx
// 9.Modifier/05-8.assertion.ts

// ìƒëµ...

let myValueDouble = "1337" as unknown as number;
```

`as unknown as ...` ì´ì¤‘ íƒ€ì… ì–´ì„œì…˜ì€ ìœ„í—˜í•˜ê³  ê±°ì˜ í•­ìƒ ì½”ë“œì˜ íƒ€ì…ì´ ì˜ëª»ë˜ì—ˆë‹¤ëŠ” ì§•í›„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. íƒ€ì… ì‹œìŠ¤í…œì˜ ë„í”¼ ìˆ˜ë‹¨ìœ¼ë¡œ ì´ì¤‘ íƒ€ì… ì–´ì„œì…˜ì„ ì‚¬ìš©í•˜ë©´, ì£¼ë³€ ì½”ë“œë¥¼ ë³€ê²½í•´ì„œ ì´ì „ì— ì‘ë™í•˜ë˜ ì½”ë“œì— ë¬¸ì œê°€ ë°œìƒí•  ê²½ìš°, íƒ€ì… ì‹œìŠ¤í…œì´ êµ¬í•´ì£¼ì§€ ëª»í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤. ì´ì¤‘ íƒ€ì… ì–´ì„œì…˜ ì‚¬ìš©ì„ ê¶Œì¥í•˜ê¸° ìœ„í•¨ì´ ì•„ë‹ˆë¼ íƒ€ì… ì‹œìŠ¤í…œ ì„¤ëª…ì„ ë•ê¸° ìœ„í•œ ì‚¬ì „ ì˜ˆë°© ì°¨ì›ì—ì„œ ì´ ì¥ì„ ì•Œì•„ ë³´ì•˜ë‹¤.

# 5. `const` ì–´ì„œì…˜

`const` ì–´ì„œì…˜ì€ ë°°ì—´, ì›ì‹œ íƒ€ì…, ë³„ì¹­ ë“± ëª¨ë“  ê°’ì„ ìƒìˆ˜ë¡œ ì·¨ê¸‰í•´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©í•œë‹¤. íŠ¹íˆ `as const`ëŠ” ìˆ˜ì‹ í•˜ëŠ” ëª¨ë“  íƒ€ì…ì— ì•„ë˜ ì„¸ ê°€ì§€ ê·œì¹™ì„ ì ìš©í•œë‹¤.

- ë°°ì—´ì€ ê°€ë³€ ë°°ì—´ì´ ì•„ë‹ˆë¼ ì½ê¸° ì „ìš© íŠœí”Œë¡œ ì·¨ê¸‰ëœë‹¤.
- ë¦¬í„°ëŸ´ì€ ì¼ë°˜ì ì¸ ì›ì‹œ íƒ€ì…ê³¼ ë™ë“±í•˜ì§€ ì•Šê³  ë¦¬í„°ëŸ´ë¡œ ì·¨ê¸‰ëœë‹¤.
- ê°ì²´ì˜ ì†ì„±ì€ ì½ê¸° ì „ìš©ì„ ê°„ì£¼ëœë‹¤.

ì•„ë˜ ë°°ì—´ì´ íŠœí”Œë¡œ ê°„ì£¼ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë°°ì—´ì´ íŠœí”Œì´ ë˜ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.

```tsx
[0, ""]; // íƒ€ì…ì€ (number | string)[]

[0, ""] as const; // íƒ€ì…ì€ readonly [0, ""]
```

`as const`ê°€ ìƒì„±í•˜ëŠ” ë‹¤ë¥¸ ë‘ ê°€ì§€ ë³€ê²½ ì‚¬í•­ì„ ì•Œì•„ë³´ì

## 5.1 ë¦¬í„°ëŸ´ì—ì„œ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ

íƒ€ì… ì‹œìŠ¤í…œì´ ë¦¬í„°ëŸ´ ê°’ì„ ì¼ë°”ì ì¸ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ í™•ì¥í•˜ê¸°ë³´ë‹¤ íŠ¹ì • ë¦¬í„°ëŸ´ë¡œ ì´í•´í•˜ëŠ” ê²ƒì´ ìœ ìš©í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ íŠœí”Œì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì²˜ëŸ¼ ì¼ë°˜ì ì¸ ì›ì‹œ íƒ€ì… ëŒ€ì‹  íŠ¹ì • ë¦¬í„°ëŸ´ì„ ìƒì‚°í•œë‹¤ê³  ì•Œë ¤ì§„ í•¨ìˆ˜ì—ì„œ ìœ ìš©í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ í•¨ìˆ˜ëŠ” ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê°’ì„ ë°˜í™˜í•œë‹¤. ì—¬ê¸°ì—ì„œ `getNameConst`ì˜ ë°˜í™˜ íƒ€ì…ì€ ì¼ë°˜ì ì¸ `string` ëŒ€ì‹  `â€œMaria Bamfordâ€`ë¼ëŠ” ë” êµ¬ì²´ì ì¸ ê°’ì´ë‹¤.

```tsx
const getName = () => "Maria Bamford"; // íƒ€ì…ì€ () => string

const getNameConst = () => "Maria Bamford" as const; // íƒ€ì…ì€ () => "Maria Bamford"
```

ê°’ì˜ íŠ¹ì • í•„ë“œê°€ ë” êµ¬ì²´ì ì¸ ë¦¬í„°ëŸ´ ê°’ì„ ê°–ë„ë¡ í•˜ëŠ” ê²ƒë„ ìœ ìš©í•˜ë‹¤. ë§ì€ ì¸ê¸° ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê°’ì˜ íŒë³„ í•„ë“œê°€ íŠ¹ì • ë¦¬í„°ëŸ´ì´ ë˜ë„ë¡ ìš”êµ¬í•œë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ì½”ë“œì˜ íƒ€ì…ì´ ê°’ì„ ë” êµ¬ì²´ì ìœ¼ë¡œ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ `narrowJoke` ë³€ìˆ˜ëŠ” `string` ëŒ€ì‹  `â€œone-linerâ€`ë¥¼ `style` ê°’ìœ¼ë¡œ ê°€ì§€ë¯€ë¡œ `Joke` íƒ€ì…ì´ í•„ìš”í•œ ìœ„ì¹˜ì— ì œê³µë  ìˆ˜ ìˆë‹¤.

```tsx
interface Joke {
  quote: string;
  style: "story" | "one-liner";
}

function tellJoke(joke: Joke) {
  if (joke.style === "one-liner") {
    console.log(joke.quote);
  } else {
    console.log(joke.quote.split("\n"));
  }
}

// íƒ€ì…ì€ { quote: string; style: "one-liner"; }
const narrowJoke = {
  quote: "If you stay alive for no other reason do it for spite.",
  style: "one-liner" as const,
};
tellJoke(narrowJoke);

// íƒ€ì…ì€ { quote: string; style: string; }
const wideObject = {
  quote: "Time flies when you are anxious!",
  style: "one-liner",
};

tellJoke(wideObject);
//       ^^^^^^^^^^ Argument of type '{ quote: string; style: string; }' is not assignable to parameter of type 'Joke'.
//                  Types of property 'style' are incompatible.
//                  Type 'string' is not assignable to type '"story" | "one-liner"'.
```

## 5.2 ì½ê¸° ì „ìš© ê°ì²´

ë³€ìˆ˜ì˜ ì´ˆê¹ƒê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒê³¼ ê°™ì€ ê°ì²´ ë¦¬í„°ëŸ´ì€ `let` ë³€ìˆ˜ì˜ ì´ˆê¹ƒê°’ì´ í™•ì¥ë˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì†ì„± íƒ€ì…ì„ í™•ì¥í•œë‹¤. `apple` ê°™ì€ ë¬¸ìì—´ ê°’ì€ `string`ê³¼ ê°™ì€ ì›ì‹œ íƒ€ì…ì´ ë˜ê³ , ë°°ì—´ì€ íŠœí”Œì´ ì•„ë‹Œ `array` íƒ€ì…ì´ ëœë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê°’ì˜ ì¼ë¶€ ë˜ëŠ” ì „ì²´ë¥¼ ë‚˜ì¤‘ì— íŠ¹ì • ë¦¬í„°ëŸ´ íƒ€ì…ì´ í•„ìš”í•œ ìœ„ì¹˜ì—ì„œ ì‚¬ìš©í•´ì•¼ í•  ë•Œ ì˜ ë§ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ `as const`ë¥¼ ì‚¬ìš©í•´ ê°’ ë¦¬í„°ëŸ´ì„ ì–´ì„œì…˜í•˜ë©´ ìœ ì¶”ëœ íƒ€ì…ì´ ê°€ëŠ¥í•œ í•œ êµ¬ì²´ì ìœ¼ë¡œ ì „í™˜ëœë‹¤. ëª¨ë“  ë©¤ë²„ ì†ì„±ì€ `readonly`ê°€ ë˜ê³ , ë¦¬í„°ëŸ´ì€ ì¼ë°˜ì ì¸ ì›ì‹œ íƒ€ì… ëŒ€ì‹  ê³ ìœ í•œ ë¦¬í„°ëŸ´ íƒ€ì…ìœ¼ë¡œ ê°„ì£¼ë˜ë©°, ë°°ì—´ì€ ì½ê¸° ì „ìš© íŠœí”Œì´ ëœë‹¤. ì¦‰, ê°’ ë¦¬í„°ëŸ´ì— `const` ì–´ì„œì…˜ì„ ì ìš©í•˜ë©´ í•´ë‹¹ ê°’ ë¦¬í„°ëŸ´ì´ ë³€ê²½ë˜ì§€ ì•Šê³  ëª¨ë“  ë©¤ë²„ì— ë™ì¼í•œ `const` ì–´ì„œì…˜ ë¡œì§ì´ ì¬ê·€ì ìœ¼ë¡œ ì ìš©ëœë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ `preferenceMutable` ê°’ì€ `as const` ì—†ì´ ì„ ì–¸ë˜ì—ˆìœ¼ë¯€ë¡œ ì´ë¦„ì€ ì›ì‹œ íƒ€ì…ì¸ `string`ì´ ë˜ê³  ìˆ˜ì •ì´ í—ˆìš©ëœë‹¤. ê·¸ëŸ¬ë‚˜ `preferenceRadonly`ëŠ” `as const`ë¡œ ì„ ì–¸ë˜ì—ˆìœ¼ë¯€ë¡œ í•´ë‹¹ ë©¤ë²„ ê°’ì€ ë¦¬í„°ëŸ´ì´ê³  ìˆ˜ì •ì´ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

```tsx
function describePreference(preference: "maybe" | "no" | "yes") {
  switch (preference) {
    case "maybe":
      return "I suppose...";
    case "no":
      return "No thanks...";
    case "yes":
      return "Yes please!!";
  }
}

// íƒ€ì…ì€ { movie: string; standup: string; }
const preferencesMutable = {
  movie: "maybe",
  standup: "yes",
};

describePreference(preferencesMutable.movie);
//                 ^^^^^^^^^^^^^^^^^^^^^^^^ Argument of type 'string' is not assignable to parameter of type '"maybe" | "no" | "yes"'.

preferencesMutable.movie = "no";

const preferencesReadOnly = {
  movie: "maybe",
  standup: "yes",
} as const;

describePreference(preferencesReadOnly.movie);

preferencesReadOnly.movie = "no";
//                  ^^^^^ Cannot assign to 'movie' because it is a read-only property.
```
