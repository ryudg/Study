νƒ€μ…μ¤ν¬λ¦½νΈλ” κµ¬ν„κ³Ό λ³„λ„λ΅ νƒ€μ… ν•νƒλ¥Ό μ„ μ–Έν•  μ μλ‹¤.
νƒ€μ… μ„ μ–Έμ€ νμΌ μ΄λ¦„μ΄ `.d.ts` ν™•μ¥μλ΅ λλ‚λ” **β€μ„ μ–Έ νμΌdeclaration fileβ€** μ— μ‘μ„±λλ‹¤. μ„ μ–Έ νμΌμ€ μΌλ°μ μΌλ΅ ν”„λ΅μ νΈ λ‚΄μ—μ„ μ‘μ„±λκ³ , ν”„λ΅μ νΈμ μ»΄νμΌ λ `npm` ν¨ν‚¤μ§€λ΅ λΉλ“ λ° λ°°ν¬λκ±°λ‚ λ…λ¦½ μ‹¤ν–‰ν•standalone `typings` ν¨ν‚¤μ§€λ΅ κ³µμ λλ‹¤.

# 1. μ„ μ–Έ νμΌ

`.d.ts` μ„ μ–Έ νμΌμ€ λ°νƒ€μ„ μ½”λ“λ¥Ό ν¬ν•¨ν•  μ μ—†λ‹¤λ” μ£Όλ©ν•  λ§ν• μ μ•½ μ‚¬ν•­μ„ μ μ™Έν•κ³ λ” `.ts` νμΌκ³Ό μ μ‚¬ν•κ² μ‘λ™ν•λ‹¤. `.d.ts` νμΌμ—λ” μ‚¬μ© κ°€λ¥ν• λ°νƒ€μ„ κ°’, μΈν„°νμ΄μ¤, λ¨λ“, μΌλ°μ μΈ νƒ€μ…μ μ„¤λ…λ§ ν¬ν•¨λλ‹¤. `.d.ts` νμΌμ€ μλ°”μ¤ν¬λ¦½νΈλ΅ μ»΄νμΌν•  μ μλ” λ¨λ“  λ°νƒ€μ„ μ½”λ“λ¥Ό ν¬ν•¨ν•  μ μ—†λ‹¤.

μ„ μ–Έ νμΌμ€ λ‹¤λ¥Έ νƒ€μ…μ¤ν¬λ¦½νΈ νμΌκ³Ό λ§μ°¬κ°€μ§€λ΅ μ„ν¬νΈν•΄μ„ μ‚¬μ©ν•  μ μλ‹¤.

μ•„λ `types.d.ts` νμΌμ€ `index.ts` νμΌμ—μ„ μ‚¬μ©ν•λ” `Character` μΈν„°νμ΄μ¤λ¥Ό λ‚΄λ³΄λ‚Έλ‹¤.

```tsx
export interface Character {
  catchphrase?: string;
  name: string;
}
```

```tsx
// 11.Declaration/01-1.index.ts

import { Character } from "./types";

export const characters: Character = {
  catchphrase: "Expelliarmus",
  name: "Harry Potter",
};
```

> π’΅ μ„ μ–Έ νμΌμ€ κ°’μ΄ μ•„λ‹ νƒ€μ…λ§ μ„ μ–Έν•  μ μλ” μ½”λ“ μμ—­μ„ μλ―Έν•λ” **β€μ•°λΉ„μ–ΈνΈ μ»¨νƒμ¤νΈambient contextβ€** λ¥Ό μƒμ„±ν•λ‹¤.

# 2.λ°νƒ€μ„ κ°’ μ„ μ–Έ

λΉ„λ΅ μ„ μ–Έ νμΌμ€ ν•¨μ λλ” λ³€μ κ°™μ€ λ°νƒ€μ„ κ°’μ„ μƒμ„±ν•μ§€ μ•μ„ μ μμ§€λ§, `declare` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•΄ μ΄λ¬ν• κµ¬μ΅°μ²΄κ°€ μ΅΄μ¬ν•λ‹¤κ³  μ„ μ–Έν•  μ μλ‹¤. μ΄λ ‡κ² ν•λ©΄ μ›Ή νμ΄μ§€μ `<script>` νƒκ·Έ κ°™μ€ μΌλ¶€ μ™Έλ¶€ μ‘μ—…μ΄ νΉμ • νƒ€μ…μ μ΄λ¦„μ„ μ‚¬μ©ν•΄ κ°’μ„ μƒμ„±ν–μμ„ νƒ€μ… μ‹μ¤ν…μ— μ•λ¦°λ‹¤.

`declare`λ΅ λ³€μλ¥Ό μ„ μ–Έν•λ©΄ μ΄κΉƒκ°’μ΄ ν—μ©λμ§€ μ•λ” λ‹¤λ” μ μ„ μ μ™Έν•κ³  μΌλ°μ μΈ λ³€μ μ„ μ–Έκ³Ό λ™μΌν• κµ¬λ¬Έμ„ μ‚¬μ©ν•λ‹¤.

μ•„λ μ½”λ“λ” `declared` λ³€μλ¥Ό μ„±κ³µμ μΌλ΅ μ„ μ–Έν•μ§€λ§ `initializer` λ³€μμ— κ°’μ„ μ κ³µν•λ ¤κ³  ν•λ©΄ νƒ€μ… μ¤λ¥κ°€ λ°μƒν•λ‹¤.

```tsx
declare let declare: string;

declare let initialize: string = "Wanda";
//                               ^^^^^^^ Initializers are not allowed in ambient contexts.
```

ν•¨μμ™€ ν΄λμ¤λ„ μΌλ°μ μΈ ν•μ‹κ³Ό μ μ‚¬ν•κ² μ„ μ–Έλμ§€λ§ ν•¨μ λλ” λ©”μ„λ“μ λ³Έλ¬Έμ΄ μ—†λ‹¤.

μ•„λ `canGrantWish` ν•¨μμ™€ λ©”μ„λ“λ” λ³Έλ¬Έ μ—†μ΄ μ¬λ°”λ¥΄κ² μ„ μ–Έλμ§€λ§, `grantWish` ν•¨μμ™€ λ©”μ„λ“λ” λ³Έλ¬Έμ„ μ„¤μ •ν•λ ¤λ” λ¶€μ μ ν• μ‹λ„λ΅ μΈν•΄ κµ¬λ¬Έ μ¤λ¥κ°€ λ°μƒν•λ‹¤.

```tsx
declare function canGrantWish(wish: string): boolean;

declare function grantWish(wish: string) {
  //                                     ^ An implementation cannot be declared in ambient contexts.
  return true;
};

class Fairy {
  canGrantWish(wish: string): boolean;

  grantWish(wish: string) {
    //                    ^ An implementation cannot be declared in ambient contexts.
    return true;
  }
}
```

> π’΅ νƒ€μ…μ¤ν¬λ¦½νΈμ μ•”μ‹μ  `any` νƒ€μ…μ κ·μΉ™μ€ μΌλ° μ†μ¤ μ½”λ“μ™€ λ§μ°¬κ°€μ§€λ΅ μ•°λΉ„μ–ΈνΈ μ»¨ν…μ¤νΈμ— μ„ μ–Έλ ν•¨μμ™€ λ³€μμ— λ€ν•΄ λ™μΌν•κΈ° μ‘λ™ν•λ‹¤. μ•°λΉ„μ–ΈνΈ μ»¨ν…μ¤νΈλ” ν•¨μ λ³Έλ¬Έμ΄λ‚ μ΄κΈ° λ³€μκ°’μ„ μ κ³µν•μ§€ μ•μ„ μ μμΌλ―€λ΅ λ…μ‹μ  νƒ€μ… μ• λ„ν…μ΄μ…(λ…μ‹μ  λ°ν™ νƒ€μ… μ• λ„ν…μ΄μ… ν¬ν•¨)μ€ μΌλ°μ μΌλ΅ `any` νƒ€μ…μ΄ λλ” κ²ƒμ„ λ§‰λ” μ μΌν• λ°©λ²•μ΄λ‹¤.

`declare` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν• νƒ€μ… μ„ μ–Έμ€ `.d.ts` μ„ μ–Έ νμΌμ—μ„ μ‚¬μ©ν•λ”κ² κ°€μ¥ μΌλ°μ μ΄μ§€λ§, μ„ μ–Έ νμΌ μ™Έλ¶€μ—μ„λ„ μ‚¬μ©ν•  μ μλ‹¤. λ¨λ“ λλ” μ¤ν¬λ¦½νΈ νμΌμ—μ„λ„ `declare` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•  μ μλ‹¤. μ „μ—­μΌλ΅ μ‚¬μ© κ°€λ¥ν• λ³€μκ°€ ν•΄λ‹Ή νμΌμ—μ„λ§ μ‚¬μ©λμ–΄μ•Ό ν•λ” κ²½μ° `declare` ν‚¤μ›λ“κ°€ μ μ©ν•λ‹¤.

μ•„λ `myGlobalValue` λ³€μλ” `index.ts` νμΌμ— μ •μλμ—μΌλ―€λ΅ ν•΄λ‹Ή νμΌμ—μ„ μ‚¬μ©ν•  μ μλ‹¤.

```tsx
declare const myGlobalValue: string;

console.log(myGlobalValue);
```

μΈν„°νμ΄μ¤μ™€ κ°™μ€ νƒ€μ… ν•νƒλ” `.d.ts` μ„ μ–Έ νμΌμ—μ„λ” `declare` ν‚¤μ›λ“ μ λ¬΄μ™€λ” κ΄€κ³„μ—†μ΄ ν—μ©λμ§€λ§, ν•¨μλ‚ λ³€μ κ°™μ€ λ°νƒ€μ„ κµ¬λ¬Έμ— `declare` ν‚¤μ›λ“κ°€ μ—†λ‹¤λ©΄ νƒ€μ… μ¤λ¥κ°€ λ°μƒν•λ‹¤.

```tsx
interface Writer {}
declare interface Writer {}

declare const fullName: string;
declare const firstName: "Liz";

const lastName = "Lemon";
//^^^ Top-level declarations in .d.ts files must start with either a 'declare' or 'export' modifier.
```

## 2.1 μ „μ—­ λ³€μ

`import` λλ” `export` λ¬Έμ΄ μ—†λ” νƒ€μ…μ¤ν¬λ¦½νΈ νμΌμ€ λ¨λ“μ΄ μ•„λ‹ μ¤ν¬λ¦½νΈλ΅ μ·¨κΈ‰λκΈ° λ•λ¬Έμ— μ—¬κΈ°μ— μ„ μ–Έλ νƒ€μ…μ„ ν¬ν•¨ν• κµ¬λ¬Έμ€ μ „μ—­μΌλ΅ μ‚¬μ©λλ‹¤. `import` λλ” `export`κ°€ μ—†λ” μ„ μ–Έ νμΌμ€ ν•΄λ‹Ή λ™μ‘μ μ΄μ μ„ μ‚¬μ©ν•΄ νƒ€μ…μ„ μ „μ—­μΌλ΅ μ„ μ–Έν•  μ μλ‹¤. μ „μ—­ μ„ μ–Έ νμΌμ€ μ• ν”λ¦¬μΌ€μ΄μ…μ λ¨λ“  νμΌμ— κ±Έμ³μ„ μ‚¬μ©ν•  μ μλ” μ „μ—­ νƒ€μ… λλ” λ³€μλ¥Ό μ„ μ–Έν•λ”λ° νΉν μ μ©ν•λ‹¤.

μ•„λ `global.d.ts` νμΌμ€ μ „μ—­μΌλ΅ μ΅΄μ¬ν•λ” `const version: strong`μ„ μ„ μ–Έν•λ‹¤. κ·Έλ¬λ©΄ `version.ts` νμΌμ€ `global.d.ts` νμΌμ„ κ°€μ Έμ¤μ§€ μ•μ•„λ„ μ „μ—­μΌλ΅ μ„ μ–Έλ `version` λ³€μλ¥Ό μ°Έμ΅°ν•  μ μλ‹¤.

```tsx
declare const version: string;
```

```tsx
export function logVersion() {
  console.log(`Vserion: ${version}`);
}
```

μ „μ—­μΌλ΅ μ„ μ–Έλ κ°’μ€ μ „μ—­ λ³€μλ¥Ό μ‚¬μ©ν•λ” λΈλΌμ°μ € μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ κ°€μ¥ μμ£Ό μ‚¬μ©λλ‹¤. λ€λ¶€λ¶„μ μµμ‹  μ›Ή ν”„λ μ„μ›ν¬λ” μΌλ°μ μΌλ΅ ECMAμ¤ν¬λ¦½νΈ λ¨λ“ κ°™μ€ μµμ‹  κΈ°μ μ„ μ‚¬μ©ν•μ§€λ§, λ³€μλ¥Ό μ „μ—­μΌλ΅ μ €μ¥ν•λ” μ‘μ—…μ€ νΉν μ‘μ€ ν”„λ΅μ νΈμ—μ„λ” μ—¬μ „ν μ μ©ν•λ‹¤.

> π’΅ `.d.ts` νμΌμ— μ„ μ–Έλ μ „μ—­ νƒ€μ…μ— μλ™μΌλ΅ μ ‘κ·Όν•  μ μ—†λ” κ²½μ° `.d.ts` νμΌμ΄ μ•„λ¬΄κ²ƒλ„ κ°€μ Έμ¤κ±°λ‚ λ‚΄λ³΄λ‚΄μ§€ μ•λ”μ§€ λ‹¤μ‹ ν™•μΈν•΄μ•Ό ν•λ‹¤. ν•λ‚μ `export`λ΅λ„ μ „μ²΄ νμΌμ„ λ” μ΄μƒ μ „μ—­μΌλ΅ μ‚¬μ©ν•  μ μ—†κ² λ§λ“¤ μλ„ μλ‹¤.

## 2.2 μ „μ—­ μΈν„°νμ΄μ¤ λ³‘ν•©

λ³€μλ” νƒ€μ…μ¤ν¬λ¦½νΈμ νƒ€μ… μ‹μ¤ν…μ—μ„ λ– λμ•„λ‹¤λ‹λ” μ μΌν• μ „μ—­μ€ μ•„λ‹λ‹¤. μ „μ—­ `API`μ™€ κ°’μ— λ€ν• λ§μ€ νƒ€μ… μ„ μ–Έμ΄ μ „μ—­μΌλ΅ μ΅΄μ¬ν•λ‹¤. μΈν„°νμ΄μ¤λ” λ™μΌν• μ΄λ¦„μ λ‹¤λ¥Έ μΈν„°νμ΄μ¤μ™€ λ³‘ν•©λκΈ° λ•λ¬Έμ— `import`μ™€ `export` λ¬Έμ΄ μ—†λ” `.d.ts` μ„ μ–Έ νμΌ κ°™μ€ μ „μ—­ μ¤ν¬λ¦½νΈ μ»¨ν…μ¤νΈμ—μ„ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•λ©΄ ν•΄λ‹Ή μΈν„°νμ΄μ¤κ°€ μ „μ—­μΌλ΅ ν™•μ¥λλ‹¤.

μλ¥Ό λ“¤μ–΄ μ„λ²„μ— λ”°λΌ μ„¤μ •λ μ „μ—­ λ³€μμ— μμ΅΄ν•λ” μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ€ ν•΄λ‹Ή λ³€μλ¥Ό μ „μ—­ Window μΈν„°νμ΄μ¤μ— μ΅΄μ¬ν•λ„λ΅ μ„ μ–Έν•κ³  μ‹¶μ„ μ μλ‹¤. μΈν„°νμ΄μ¤ λ³‘ν•©μ„ μ΄μ©ν•λ©΄ `types/www.d.ts`μ™€ κ°™μ€ νμΌμ—μ„ `Window` νƒ€μ…μ μ „μ—­ `window` λ³€μμ— μ΅΄μ¬ν•λ” λ³€μλ¥Ό μ„ μ–Έν•  μ μλ„λ΅ ν—μ©ν•λ‹¤.

```html
<script type="text/javascript">
  window.myVersion = "3.1.1";
</script>
```

```tsx
interface Window {
  myVersion: string;
}
```

```tsx
export function logWindowVersion() {
  console.log(`Window version is : ${window.myVersion}`);
  window.alert("Built-in window types still work!");
}
```

## 2.3 μ „μ—­ ν™•μ¥

λ‹¤λ¥Έ κ³³μ— μ •μλ νƒ€μ…μ„ κ°€μ Έμ™€μ„ μ „μ—­ μ •μλ¥Ό ν¬κ² λ‹¨μν™” ν•  λ•μ™€ κ°™μ΄ μ „μ—­ λ²”μ„λ΅ ν™•μ¥μ΄ ν•„μ”ν• `.d.ts` νμΌμ— `import` λλ” `export` λ¬Έμ„ ν•­μƒ κΈμ§€ν•  μ μλ” κ²ƒμ€ μ•„λ‹λ‹¤. κ²½μ°μ— λ”°λΌμ„ λ¨λ“ νμΌμ— μ„ μ–Έλ νƒ€μ…μ΄ μ „μ—­μΌλ΅ μ‚¬μ©λμ–΄μ•Ό ν•λ‹¤.

νƒ€μ…μ¤ν¬λ¦½νΈμ—μ„ `declare global` μ½”λ“ λΈ”λ΅ κµ¬λ¬Έμ„ μ‚¬μ©ν•΄ ν•΄λ‹Ή λΈ”λ΅ λ‚΄μ©μ΄ μ „μ—­ μ»¨ν…μ¤νΈμ— μλ‹¤κ³  ν‘μ‹ν•λ‹¤.

```tsx
// (λ¨λ“ μ»¨ν…μ¤νΈ)
declare global {
  // (μ „μ—­ μ»¨ν…μ¤νΈ)
}

// (λ¨λ“ μ»¨ν…μ¤νΈ)
```

λ‹¤μ `types/data.d.ts` νμΌμ€ `Data` μΈν„°νμ΄μ¤λ¥Ό λ‚΄λ³΄λ‚΄κ³ , λ‚μ¤‘μ— `types/global.d.ts`μ™€ λ°νƒ€μ„ `index.ts` νμΌμ—μ„ μ΄ μΈν„°νμ΄μ¤λ¥Ό κ°€μ Έμ¨λ‹¤.

```tsx
export interface Data {
  version: string;
}
```

λν• `types/global.d.ts` νμΌμ—μ„λ§ μ‚¬μ©ν•  μ μλ” λ³€μμ™€ `Data` νƒ€μ… λ³€μλ¥Ό `declare global` λΈ”λ΅ λ‚΄μ— μ „μ—­μΌλ΅ μ„ μ–Έν•λ‹¤.

```tsx
import { Data } from "./data";

declare global {
  const globallyDeclared: Data;
}

declare const locallyDeclared: Data;
```

κ·Έλ¬λ©΄ `index.ts`λ” `import` λ¬Έ μ—†μ΄ `globallyDeclared` λ³€μμ— μ ‘κ·Όν•  μ μκ³ , μ—¬μ „ν `Data`λ¥Ό κ°€μ Έμ™€μ•Ό ν•λ‹¤.

```tsx
import { Data } from "./types/data";

function logData(data: Data) {
  console.log(`Data version is: ${data.version}`);
}

logData(globallyDeclared);

logData(locallyDeclared);
//      ^^^^^^^^^^^^^^^ Cannot find name 'locallyDeclared'. Did you mean 'globallyDeclared'?
```

μ „μ—­ μ„ μ–Έκ³Ό λ¨λ“ μ„ μ–Έμ΄ ν•¨κ» μ μ‘λ™ν•λ„λ΅ λ­κΈ€λ§wranglingν•λ” κ²ƒμ€ κΉλ‹¤λ΅μΈ μ μλ‹¤. νƒ€μ…μ¤ν¬λ¦½νΈμ `declare`μ™€ `global` ν‚¤μ›λ“λ¥Ό μ μ ν μ‚¬μ©ν•λ©΄ ν”„λ΅μ νΈμ—μ„ μ „μ—­μΌλ΅ μ‚¬μ© κ°€λ¥ν• νƒ€μ… μ •μλ¥Ό μ„¤λ…ν•  μ μλ‹¤.

# 3. λ‚΄μ¥λ μ„ μ–Έ

νƒ€μ…μ¤ν¬λ¦½νΈλ” μ§€κΈκΉμ§€ νƒ€μ… κ²€μ‚¬λ¥Ό μ§„ν–‰ν•΄μ™”λ‹¤. `Array`, `Function`, `Map`, `Set`κ³Ό κ°™μ€ μ „μ—­ κ°μ²΄λ” νƒ€μ… μ‹μ¤ν…μ΄ μ•μ•„μ•Ό ν•μ§€λ§ μ½”λ“μ—μ„ μ„ μ–Έλμ§€ μ•λ” κµ¬λ¬Έμ΄λ‹¤. μ΄μ™€ κ°™μ€ μ „μ—­ κ°μ²΄λ” λ””λ…Έ, Node.js, μ›Ή λΈλΌμ°μ € λ“±μ—μ„ μ‹¤ν–‰λλ” λ°νƒ€μ„ μ½”λ“μ— μν•΄ μ κ³µλλ‹¤.

## 3.1 λΌμ΄λΈλ¬λ¦¬ μ„ μ–Έ

λ¨λ“  μλ°”μ¤ν¬λ¦½νΈ λ°νƒ€μ„μ— μ΅΄μ¬ν•λ” `Array`, `Function` κ°™μ€ λ‚΄μ¥λ μ „μ—­ κ°μ²΄λ” `lib.[target].d.ts` νμΌ μ΄λ¦„μΌλ΅ μ„ μ–Έλλ‹¤. μ—¬κΈ°μ—μ„ `target`μ€ `ES5`, `ES2020` λλ” `ESNext`μ™€ κ°™μ΄ ν”„λ΅μ νΈμ—μ„ λ€μƒμΌλ΅ ν•λ” μλ°”μ¤ν¬λ¦½νΈμ μµμ† μ§€μ› λ²„μ „μ΄λ‹¤.

λ‚΄μ¥λ λΌμ΄λΈλ¬λ¦¬ μ„ μ–Έ νμΌ λλ” β€`lib` νμΌβ€™μ€ μλ°”μ¤ν¬λ¦½νΈμ λ‚΄μ¥λ `API` μ „μ²΄λ¥Ό λ‚νƒ€λ‚΄κΈ° λ•λ¬Έμ— μƒλ‹Ήν ν¬λ‹¤. μλ¥Ό λ“¤μ–΄ λ‚΄μ¥ `Array` νƒ€μ…μ λ©¤λ²„λ” λ‹¤μκ³Ό κ°™μ΄ μ‹μ‘ν•λ” μ „μ—­ `Array` μΈν„°νμ΄μ¤λ΅ κµ¬ν„ν•λ‹¤.

```tsx
// lib.es5.d.ts

interface Array<T> {
  /**
   * Gets or sets the length of the array. This is a number one higher than the highest index in the array.
   */
  length: number;
  /**
   * Returns a string representation of an array.
   */
  toString(): string;
  // ...
}
```

`lib` νμΌμ€ νƒ€μ…μ¤ν¬λ¦½νΈ `npm` ν¨ν‚¤μ§€μ μΌλ¶€λ΅ λ°°ν¬λλ©° `node_modules/typescript/lib.ed5.d.ts`μ™€ κ°™μ€ κ²½λ΅μ ν¨ν‚¤μ§€ λ‚΄λ¶€μ—μ„ μ°Ύμ„ μ μλ‹¤. μμ²΄ ν¨ν‚¤μ§€ νƒ€μ…μ¤ν¬λ¦½νΈ λ²„μ „μΌλ΅ κ²€μ‚¬ μ½”λ“λ¥Ό μ…λ ¥ν•λ” VSCode κ°™μ€ IDEμ—μ„λ” μ•„λ μ‚¬μ§„μ²λΌ λ°°μ—΄μ `forEach` λ‚΄μ¥ λ©”μ„λ“μ—μ„ μ¤λ¥Έμ½ λ§μ°μ¤λ¥Ό ν΄λ¦­ν•΄ β€Go to Definitionβ€μ„ μ„ νƒν•λ©΄ `lib` νμΌμ„ μ°Ύμ„ μ μλ‹¤.

![Alt text](./assets/image.png)
_forEachμ„ λ§μ°μ¤ μ°ν΄λ¦­ ν›„ Go to Definition_

![Alt text](./assets/image-1.png)
_κ²°κ³Όλ΅ μ—΄λ¦° lib.ed5.d.ts νμΌ_

### 3.1.1 λΌμ΄λΈλ¬λ¦¬ target

νƒ€μ…μ¤ν¬λ¦½νΈλ” κΈ°λ³Έμ μΌλ΅ `tsc` `CLI` λλ” ν”„λ΅μ νΈμ `tsconfig.json`(κΈ°λ³Έκ°’μ€ `es5`)μ—μ„ μ κ³µλ `target` μ„¤μ •μ— λ”°λΌ μ μ ν• `lib` νμΌμ„ ν¬ν•¨ν•λ‹¤. μλ°”μ¤ν¬λ¦½νΈ μµμ‹  λ²„μ „μ— λ€ν• μ—°μ†μ μΈ `lib` νμΌλ“¤μ€ μΈν„°νμ΄μ¤ λ³‘ν•©μ„ μ‚¬μ©ν•΄ μ„λ΅ λΉλ“λλ‹¤.

μλ¥Ό λ“¤μ–΄ `ES2015`μ— μ¶”κ°€λ `EPSILON`, `isFinite`μ™€ κ°™μ€ μ •μ  `Number` λ©¤λ²„λ” `lib.es2015.d.ts`μ— λ‚μ—΄λλ‹¤.

```tsx
// lib.es2015.d.ts

interface NumberConstructor {
  /**
   * The value of Number.EPSILON is the difference between 1 and the smallest value greater than 1
   * that is representable as a Number value, which is approximately:
   * 2.2204460492503130808472633361816 x 10β€β’β€16.
   */
  readonly EPSILON: number;

  /**
   * Returns true if passed value is finite.
   * Unlike the global isFinite, Number.isFinite doesn't forcibly convert the parameter to a
   * number. Only finite values of the type number, result in true.
   * @param number A numeric value.
   */
  isFinite(number: unknown): boolean;
  // ...
}
```

νƒ€μ…μ¤ν¬λ¦½νΈ ν”„λ΅μ νΈλ” `target`μΌλ΅ μ§€μ •ν• μλ°”μ¤ν¬λ¦½νΈ λ²„μ „μ λ¨λ“  μµμ† λ²„μ „ `lib` νμΌμ„ ν¬ν•¨ν•λ‹¤. μλ¥Ό λ“¤μ–΄ `target`μ΄ `es2016`μΈ ν”„λ΅μ νΈμ—λ” `lib.es5.d.ts`, `lib.es2015.d.ts` κ·Έλ¦¬κ³  `lib.es2016.d.ts`κΉμ§€ ν¬ν•¨λλ‹¤.

> π’΅ `target`λ³΄λ‹¤ μµμ‹  λ²„μ „μ μλ°”μ¤ν¬λ¦½νΈμ—μ„λ§ μ‚¬μ©ν•  μ μλ” κΈ°λ¥μ€ νƒ€μ… μ‹μ¤ν…μ—μ„ μ‚¬μ©ν•  μ μ—†λ‹¤. μλ¥Ό λ“¤μ–΄ `target`μ΄ `es5`μ΄λ©΄, `String.prototype.startsWith`μ™€ κ°™μ€ `ES2015` μ΄μƒμ κΈ°λ¥μ€ μΈμ‹λμ§€ μ•λ”λ‹¤.

## 3.2 DOM μ„ μ–Έ

μλ°”μ¤ν¬λ¦½νΈ μ–Έμ–΄ μμ²΄ μ™Έμ— κ°€μ¥ μΌλ°μ μΌλ΅ μ°Έμ΅°λλ” νƒ€μ… μ„ μ–Έ μμ—­μ€ μ›Ή λΈλΌμ°μ €λ¥Ό μ„ν•κ²ƒμ΄λ‹¤.

β€**`DOM`** Document Object Modelβ€ νƒ€μ…μ΄λΌκ³  ν•λ” μ›Ή λΈλΌμ°μ € νƒ€μ…μ€ `localStorage`μ™€ κ°™μ€ `API`μ™€ μ›Ή λΈλΌμ°μ €μ—μ„ μ£Όλ΅ μ‚¬μ©ν•λ” `HTMLElement`μ™€ κ°™μ€ νƒ€μ… ν•νƒλ¥Ό λ‹¤λ£¬λ‹¤. `DOM` νƒ€μ…μ€ `lib.dom.d.ts` νμΌκ³Ό λ‹¤λ¥Έ `lib.*.d.ts` μ„ μ–Έ νμΌμ—λ„ μ €μ¥λλ‹¤.

λ§μ€ λ‚΄μ¥ μ „μ—­ νƒ€μ…μ²λΌ μ „μ—­ `DOM` νƒ€μ…μ€ μΆ…μΆ… μ „μ—­ μΈν„°νμ΄μ¤λ΅ μ„¤λ…λλ‹¤. μλ¥Ό λ“¤μ–΄ `localStorage`μ™€ `sessionStorage`μ— μ‚¬μ©λλ” `Storage` μΈν„°νμ΄μ¤λ” λ€λµ λ‹¤μκ³Ό κ°™μ΄ μ‹μ‘ν•λ‹¤.

```tsx
// lib.dom.ts

interface Storage {
  /**
   * Returns the number of key/value pairs.
   *
   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Storage/length)
   */
  readonly length: number;
  /**
   * Removes all key/value pairs, if there are any.
   *
   * Dispatches a storage event on Window objects holding an equivalent Storage object.
   *
   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Storage/clear)
   */
  clear(): void;
  /**
   * Returns the current value associated with the given key, or null if the given key does not exist.
   *
   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Storage/getItem)
   */
  getItem(key: string): string | null;
  /**
   * Returns the name of the nth key, or null if n is greater than or equal to the number of key/value pairs.
   *
   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Storage/key)
   */
  key(index: number): string | null;
  // ...
}
```

`lib` μ»΄νμΌλ¬ μµμ…μ„ μ¬μ •μν•μ§€ μ•λ” νƒ€μ…μ¤ν¬λ¦½νΈ ν”„λ΅μ νΈλ” `DOM` νƒ€μ…μ„ κΈ°λ³ΈμΌλ΅ ν¬ν•¨ν•λ‹¤. Node.jsμ™€ κ°™μ€ λΈλΌμ°μ €κ°€ μ•„λ‹ ν™κ²½μ—μ„ μ‹¤ν–‰λλ” ν”„λ΅μ νΈλ” νƒ€μ… μ‹μ¤ν…μ΄ μ΅΄μ¬ν•λ‹¤κ³  μ£Όμ¥ν•λ” `document`μ™€ `localStorage` κ°™μ€ μ „μ—­ `API`μ— μ ‘κ·Όν•  μ μ—†κΈ° λ•λ¬Έμ— κ°λ°μκ°€ νΌλ€μ¤λ¬μΈ μ μλ‹¤.

# 4. λ¨λ“ μ„ μ–Έ

μ„ μ–Έ νμΌμ λ λ‹¤λ¥Έ μ¤‘μ”ν• κΈ°λ¥μ€ λ¨λ“μ μƒνƒλ¥Ό μ„¤λ…ν•λ” κΈ°λ¥μ΄λ‹¤. λ¨λ“μ λ¬Έμμ—΄ μ΄λ¦„ μ•μ— declare ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ λ¨λ“μ λ‚΄μ©μ„ νƒ€μ… μ‹μ¤ν…μ— μ•λ¦΄ μ μλ‹¤.

μ•„λ `β€my-example-libβ€` λ¨λ“μ€ modules.d.ts μ„ μ–Έ μ¤ν¬λ¦½νΈ νμΌμ— μ΅΄μ¬ν•λ„λ΅ μ„ μ–Έν• λ‹¤μ, index.ts νμΌμ—μ„ μ‚¬μ©λλ‹¤.

```tsx
declare module "my-example-module" {
  export const value: string;
}
```

```tsx
import { value } from "my-example-module";

console.log(value);
```

μ½”λ“μ—μ„ `declare module`μ„ μμ£Ό μ‚¬μ©ν•΄μ„λ” μ•λλ‹¤. `declare module`μ€ μ£Όλ΅ β€μ™€μΌλ“μΉ΄λ“wildcardβ€ λ¨λ“ μ„ μ–Έκ³Ό μ΄ μ¥μ ν›„λ°λ¶€μ—μ„ λ‹¤λ£¨λ” ν¨ν‚¤μ§€ νƒ€μ…κ³Ό ν•¨κ» μ‚¬μ©λλ‹¤.

## 4.1 μ™€μΌλ“μΉ΄λ“ λ¨λ“ μ„ μ–Έ

λ¨λ“ μ„ μ–Έμ€ μλ°”μ¤ν¬λ¦½νΈμ™€ νƒ€μ…μ¤ν¬λ¦½νΈ νμΌ ν™•μ¥μκ°€ μ•„λ‹ νΉμ • νμΌμ λ‚΄μ©μ„ μ½”λ“λ΅ κ°€μ Έμ¬ μ μμμ„ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ— μ•λ¦¬κΈ° μ„ν•΄ μ‚¬μ©ν•λ‹¤. λ¨λ“ μ„ μ–ΈμΌλ΅ ν•λ‚μ `*` μ™€μΌλ“μΉ΄λ“λ¥Ό ν¬ν•¨ν•΄ ν•΄λ‹Ή ν¨ν„΄κ³Ό μΌμΉν•λ” λ¨λ“  λ¨λ“μ„ λ‚νƒ€λ‚Ό μ μλ‹¤.

μλ¥Ό λ“¤μ–΄ `create-react-app`κ³Ό `create-next-app` κ°™μ€ μΈκΈ° μλ” λ¦¬μ•΅νΈ μ¤νƒ€ν„°starterμ— λ―Έλ¦¬ κµ¬μ„±λ κ²ƒμ²λΌ λ§μ€ μ›Ή ν”„λ΅μ νΈλ” CSS λ¨λ“μ„ μ§€μ›ν•λ©° CSS νμΌμ—μ„ λ°νƒ€μ„μ— μ‚¬μ©ν•  μ μλ” κ°μ²΄λ΅ μ¤νƒ€μΌμ„ κ°€μ Έμ¨λ‹¤. κΈ°λ³Έμ μΌλ΅ `{ [i: string]: string }` νƒ€μ…μ κ°μ²΄λ¥Ό λ‚΄λ³΄λ‚΄λ” `β€*.modulecssβ€`μ™€ κ°™μ€ ν¨ν„΄μΌλ΅ λ¨λ“μ„ μ •μν•λ‹¤.

```tsx
declare module "*.module.css" {
  const styles: { [i: string]: string };
  export default styles;
}
```

```tsx
import styles from "./04-2.module.css";

styles.anyClassName; // νƒ€μ…μ€ string
```

> π’΅ μ™€μΌλ“μΉ΄λ“ λ¨λ“μ„ μ‚¬μ©ν•΄ λ΅μ»¬ νμΌμ„ λ‚νƒ€λ‚΄λ” λ°©μ‹μ΄ νƒ€μ… μ•μ •μ„±μ„ μ™„λ²½ν λ³΄μ¥ν•μ§€λ” μ•λ”λ‹¤. νƒ€μ…μ¤ν¬λ¦½νΈλ” κ°€μ Έμ¨ λ¨λ“ κ²½λ΅κ°€ νμΌκ³Ό μΌμΉν•λ”μ§€ ν™•μΈν•λ” λ©”μ»¤λ‹μ¦μ„ μ κ³µν•μ§€ μ•λ”λ‹¤. μΌλ¶€ ν”„λ΅μ νΈλ” μ›Ήν©webpack κ°™μ€ λΉλ“ μ‹μ¤ν…μ„ μ‚¬μ©ν•κ±°λ‚ λ΅μ»¬ νμΌμ—μ„ `.d.ts` νμΌμ„ μƒμ„±ν•΄ κ°€μ Έμ¤κΈ°κ°€ κ°€λ¥ν•μ§€ ν™•μΈν•λ‹¤.

# 5. ν¨ν‚¤μ§€ νƒ€μ…

ν”„λ΅μ νΈ λ‚΄μ—μ„ `declare`λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ„ μ‚΄ν΄λ΄¤μΌλ―€λ΅ μ΄μ  ν¨ν‚¤μ§€ κ°„μ— νƒ€μ…μ„ μ‚¬μ©ν•λ” λ°©λ²•μ„ λ‹¤λ£° μ°¨λ΅€λ‹¤. νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ ν”„λ΅μ νΈλ” μ—¬μ „ν `.js`λ΅ μ»΄νμΌλ νμΌμ΄ ν¬ν•¨λ ν¨ν‚¤μ§€λ¥Ό λ°°ν¬ν•λ‹¤. μΌλ°μ μΌλ΅ `.d.ts` νμΌμ„ μ‚¬μ©ν•΄ μ΄λ¬ν• μλ°”μ¤ν¬λ¦½νΈ νμΌ λ’¤μ— νƒ€μ…μ¤ν¬λ¦½νΈ νƒ€μ… μ‹μ¤ν… ν•νƒλ¥Ό μ§€μ›ν•λ„λ΅ μ„ μ–Έν•λ‹¤.

## 5.1 μ„ μ–Έ

νƒ€μ…μ¤ν¬λ¦½νΈλ” μ…λ ¥λ νμΌμ— λ€ν• `.d.ts` μ¶λ ¥ νμΌκ³Ό μλ°”μ¤ν¬λ¦½νΈ μ¶λ ¥ νμΌμ„ ν•¨κ» μƒμ„±ν•λ” μ„ μ–Έ μµμ…μ„ μ κ³µν•λ‹¤.

μ•„λ `index.ts` μ†μ¤ νμΌμ΄ μ£Όμ–΄μ΅λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.

```tsx
export const greet = (text: string) => {
  console.log(`Hello, ${text}`);
};
```

`module`μ€ `es2015`, `target`μ€ `es2015`μΈ μ„ μ–Έ μµμ…μ„ μ‚¬μ©ν•΄ λ‹¤μ μ¶λ ¥ νμΌμ„ μƒμ„±ν•λ‹¤.

```bash
tsc --module es2015 --target es2015 11.Declaration/05-1.index.ts
```

```tsx
export declare const greet: (text: string) => void;
```

```jsx
export const greet = (text) => {
  console.log(`Hello, ${text}`);
};
```

μλ™μΌλ΅ μƒμ„±λ `.d.ts` νμΌμ€ ν”„λ΅μ νΈμ—μ„ μ‚¬μ©μκ°€ μ‚¬μ©ν•  νƒ€μ… μ •μλ¥Ό μƒμ„±ν•λ” κ°€μ¥ μΆ‹μ€ λ°©λ²•μ΄λ‹¤. μΌλ°μ μΌλ΅ `.js` νμΌμ„ μƒμ„±ν•λ” νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ λ€λ¶€λ¶„μ ν¨ν‚¤μ§€λ„ ν•΄λ‹Ή νμΌκ³Ό ν•¨κ» `.d.ts`λ¥Ό λ²λ“¤λ΅ λ¬¶λ” κ²ƒμ΄ μΆ‹λ‹¤.

## 5.2 ν¨ν‚¤μ§€ νƒ€μ… μμ΅΄μ„±

νƒ€μ…μ¤ν¬λ¦½νΈλ” ν”„λ΅μ νΈμ `node_modules` μμ΅΄μ„±dependency λ‚΄λ¶€μ—μ„ λ²λ“¤λ΅ μ κ³µλλ” `.d.ts` νμΌμ„ κ°μ§€ν•κ³  ν™μ©ν•  μ μλ‹¤. μ΄λ¬ν• νμΌμ€ ν•΄λ‹Ή ν¨ν‚¤μ§€μ—μ„ λ‚΄λ³΄λ‚Έ νƒ€μ… ν•νƒμ— λ€ν•΄ λ§μΉ λ™μΌν• ν”„λ΅μ νΈμ—μ„ μ‘μ„±λμ—κ±°λ‚ μ„ μ–Έ λ¨λ“ λΈ”λ΅μΌλ΅ μ„ μ–Έλ κ²ƒμ²λΌ νƒ€μ… μ‹μ¤ν…μ— μ•λ¦°λ‹¤.

μμ²΄ `.d.ts` μ„ μ–Έ νμΌκ³Ό ν•¨κ» μ κ³µλλ” npm λ¨λ“μ€ λ€λ¶€λ¶„ μ•„λμ™€ κ°™μ€ νμΌ κµ¬μ΅°λ¥Ό κ°™λ”λ‹¤.

```
lib/
 index.js
 index.d.ts
package.json
```

μλ¥Ό λ“¤μ–΄ κΎΈμ¤€ν μΈκΈ° μλ” ν…μ¤νΈ ν”„λ μ„μ›ν¬μΈ μ μ¤νΈJestλ” νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λμ—μΌλ©° `jest` ν¨ν‚¤μ§€ λ‚΄μ— μμ²΄ λ²λ“¤ `.d.ts` νμΌμ„ μ κ³µν•λ‹¤. `describe`μ™€ `it` κ°™μ€ ν•¨μλ¥Ό μ κ³µν•λ” `@jest/globals` ν¨ν‚¤μ§€μ— λ€ν• μμ΅΄μ„±μ„ κ°€μ§€λ©° `jest`λ” μ „μ—­μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

```json
// package.json

{
  // ...
  "dependencies": {
    "jest": "^29.7.0"
  }
}
```

```tsx
describe("MyAPI", () => {
  it("works", () => {
    /*...*/
  });
});
```

```tsx
import { it, describe } from "@jest/globals";

describe("MyAPI", () => {
  it("works", () => {
    /*...*/
  });
});
```

`jest` ν¨ν‚¤μ§€μ λ§¤μ° μ ν•μ μΈ ν•μ„ κµ¬μ„±μ„ μ²μλ¶€ν„° λ‹¤μ‹ λ§λ“¤λ©΄ λ‹¤μ νμΌκ³Ό μ μ‚¬ν•λ‹¤. `@jest/globals` ν¨ν‚¤μ§€λ” `describe`μ™€ `it`λ¥Ό λ‚΄λ³΄λ‚Έλ‹¤. κ·Έλ° λ‹¤μ `jest` ν¨ν‚¤μ§€λ” ν•΄λ‹Ή ν•¨μλ¥Ό κ°€μ Έμ¤κ³ , ν•΄λ‹Ή ν•¨μ νƒ€μ…μ `describe`μ™€ `it` λ³€μλ¥Ό κ°€μ§€κ³  μ „μ—­ μ¤μ½”ν”„λ΅ ν™•μ¥ν•λ‹¤.

```tsx
// node_modules/@jest/globals/index.d.ts

export function describe(name: string, test: () => void): void;
export function it(name: string, test: () => void): void;
```

```tsx
// node_modules/jest/index.d.ts

import * as globals fromg "@jest/globals";

declare global {
	const describe: typeof globlas.describe;
	const it: typeof globlas.it;
}
```

μ΄ κµ¬μ΅°λ” μ μ¤ν¬λ¥Ό μ‚¬μ©ν•λ” ν”„λ΅μ νΈκ°€ `describe`μ™€ it`μ` μ „μ—­ λ²„μ „μ„ μ°Έμ΅°ν•  μ μλ„λ΅ ν—μ©ν•λ‹¤. ν”„λ΅μ νΈλ” λ€μ•μΌλ΅ `@jest/globals` ν¨ν‚¤μ§€μ—μ„ ν•΄λ‹Ή ν•¨μλ¥Όκ°€μ Έμ¤λ„λ΅ μ„ νƒν•  μ μλ‹¤.

## 5.3 ν¨ν‚¤μ§€ νƒ€μ… λ…Έμ¶

ν”„λ΅μ νΈκ°€ `npm`μ— λ°°ν¬λκ³  μ‚¬μ©μλ¥Ό μ„ν• νƒ€μ…μ„ μ κ³µν•λ ¤λ©΄ ν¨ν‚¤μ§€μ `package.json` νμΌμ— `types` ν•„λ“λ¥Ό μ¶”κ°€ν•΄ λ£¨νΈ μ„ μ–Έ νμΌμ„ κ°€λ¦¬ν‚¨λ‹¤. `types` ν•„λ“λ” `main` ν•„λ“μ™€ μ μ‚¬ν•κ² μ‘λ™ν•κ³  μΆ…μΆ… λ™μΌν• κ²ƒμ²λΌ λ³΄μ΄μ§€λ§ `.js` ν™•μ¥μ λ€μ‹ μ— `.d.ts` ν™•μ¥μλ¥Ό μ‚¬μ©ν•λ‹¤.

μλ¥Ό λ“¤μ–΄ λ‹¤μ κ°€μƒμ ν¨ν‚¤μ§€ νμΌμ—μ„ `main` λ°νƒ€μ„ νμΌμΈ `./lib/index.js`λ” `types` νμΌμΈ `./lib/index.d.ts`μ™€ λ³‘λ ¬ μ²λ¦¬λλ‹¤.

```json
{
  "author": "Pendant Publishing",
  "main": "./lib/index.js",
  "name": "coffeetable",
  "types": "./lib/index.d.ts",
  "version": "0.5.22"
}
```

κ·Έλ° λ‹¤μ νƒ€μ…μ¤ν¬λ¦½νΈλ” μ ν‹Έλ¦¬ν‹° ν¨ν‚¤μ§€μ—μ„ κ°€μ Έμ¨ νμΌμ„ μ‚¬μ©ν•κΈ° μ„ν•΄ μ κ³µν•΄μ•Ό ν•λ” κ²ƒμΌλ΅ `β€./lib/index.d.tsβ€`μ λ‚΄μ©μ„ μ‚¬μ©ν•λ‹¤.

> π’΅ `types` ν•„λ“κ°€ ν¨ν‚¤μ§€μ `package.json`μ— μ΅΄μ¬ν•μ§€ μ•μΌλ©΄, νƒ€μ…μ¤ν¬λ¦½νΈλ” `./index.d.ts`λ¥Ό κΈ°λ³Έκ°’μΌλ΅ κ°€μ •ν•λ‹¤. μ΄λ° λ°©μ‹μ€ `types` ν•„λ“κ°€ μ§€μ •λμ§€ μ•μ€ κ²½μ° `./index.ts` νμΌμ„ ν¨ν‚¤μ§€μ κΈ°λ³Έ μ§„μ…μ μΌλ΅ κ°€μ •ν•λ” `npm`μ κΈ°λ³Έ λ™μ‘μ„ λ°μν• κ²ƒμ΄λ‹¤.

λ€λ¶€λ¶„μ ν¨ν‚¤μ§€λ” νƒ€μ…μ¤ν¬λ¦½νΈμ μ„ μ–Έ μ»΄νμΌλ¬ μµμ…μ„ μ‚¬μ©ν•΄ μ†μ¤ νμΌλ΅λ¶€ν„° `.js` νμΌκ³Ό ν•¨κ» `.d.ts` νμΌμ„ μƒμ„±ν•λ‹¤.

# 6. DefinitelyTyped

μ•νƒ€κΉκ²λ„ λ¨λ“  ν”„λ΅μ νΈκ°€ νƒ€μ…μ¤ν¬λ¦½νΈλ΅ μ‘μ„±λ κ²ƒμ€ μ•„λ‹λ‹¤. μΌλ¶€ λ¶ν–‰ν• κ°λ°μλ“¤μ€ νƒ€μ… κ²€μ‚¬κΈ°μ λ„μ›€ μ—†μ΄ μ—¬μ „ν μΌλ° μλ°”μ¤ν¬λ¦½νΈλ΅λ§ ν”„λ΅μ νΈλ¥Ό μ‘μ„±ν•λ‹¤.

νƒ€μ…μ¤ν¬λ¦½νΈ ν”„λ΅μ νΈλ” μ—¬μ „ν ν•΄λ‹Ή ν¨ν‚¤μ§€μ—μ„ λ¨λ“μ νƒ€μ… ν•νƒλ¥Ό μ•λ ¤μ¤μ•Ό ν•λ‹¤. νƒ€μ…μ¤ν¬λ¦½νΈ ν€κ³Ό μ»¤λ®¤λ‹ν‹°λ” μ»¤λ®¤λ‹ν‹°μ—μ„ μ‘μ„±λ ν¨ν‚¤μ§€ μ •μλ¥Ό μμ©ν•κΈ° μ„ν•΄ `DefinitelyTyped`λΌλ” κ±°λ€ν• μ €μ¥μ†λ¥Ό λ§λ“¤μ—λ‹¤.

> https://github.com/DefinitelyTyped/DefinitelyTyped

`DefinitelyTyped`, μ§§κ² μ¤„μ—¬μ„ `DT`λ” κΉƒν—λΈμ—μ„ κ°€μ¥ ν™λ°ν• μ €μ¥μ† μ¤‘ ν•λ‚μ΄λ‹¤. μ €μ¥μ†μ—λ” λ³€κ²½ μ μ• κ²€ν†  λ° μ—…λ°μ΄νΈ κ²μ‹μ™€ κ΄€λ ¨λ μλ™ν™” λ¶€λ¶„κ³Ό μμ² κ°μ `.d.ts` μ •μ ν¨ν‚¤μ§€κ°€ ν¬ν•¨λμ–΄ μλ‹¤.

DT ν¨ν‚¤μ§€λ” νƒ€μ…μ„ μ κ³µν•λ” ν¨ν‚¤μ§€μ™€ λ™μΌν• μ΄λ¦„μΌλ΅ `npm`μ— `@type` λ²”μ„λ΅ κ²μ‹λλ‹¤. μλ¥Ό λ“¤μ–΄ 2022λ…„ `@types/react`λ” λ¦¬μ•΅νΈ ν¨ν‚¤μ§€μ— λ€ν• νƒ€μ… μ •μλ¥Ό μ κ³µν•λ‹¤.

> π’΅ `@types`λ” `dependencies` λλ” `devDependencies`λ΅ μ„¤μΉν•μ§€λ§, μµκ·Ό λ‡ λ…„λ™μ• μ΄ λ‘μ κµ¬λ¶„μ€ λ¨νΈν•΄μ΅λ‹¤. ν•μ§€λ§ ν”„λ΅μ νΈκ°€ `npm` ν¨ν‚¤μ§€λ΅ λ°°ν¬λμ–΄μ•Ό ν•λ” κ²½μ°, `dependencies`λ¥Ό μ‚¬μ©ν•΄μ•Όλ§ ν¨ν‚¤μ§€λ¥Ό μ‚¬μ©ν•λ” κ³³μ—μ„ μ‚¬μ©λλ” νƒ€μ… μ •μλ¥Ό κ°€μ Έμ¬ μ μλ‹¤.
> λ§μ•½ ν”„λ΅μ νΈκ°€ μ„λ²„μ—μ„ λΉλ“ λ° μ‹¤ν–‰λλ” λ…λ¦½ μ‹¤ν–‰ν• μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄λΌλ©΄ `devDependencies`λ¥Ό μ‚¬μ©ν•΄ νƒ€μ…μ΄ λ‹¨μ§€ κ°λ° μ‹ μ‚¬μ©λλ” ν΄μ„μ„ μ „λ‹¬ν•΄μ•Ό ν•λ‹¤.

μλ¥Ό λ“¤μ–΄ 2022λ…„μ—λ” λ³„λ„μ `@types/lodash` ν¨ν‚¤μ§€κ°€ μκ³ , `lodash`μ— μμ΅΄ν•λ” μ ν‹Έλ¦¬ν‹° ν¨ν‚¤μ§€λ” `package.json`μ— μ•„λμ™€ κ°™μ€ μ¤„μ΄ ν¬ν•¨λλ‹¤.

```json
// package.json

{
  "dependencies": {
    "@types/lodash": "^4.14.182",
    "lodash": "^4.17.21"
  }
}
```

λ¦¬μ•΅νΈμ— κµ¬μ¶•λ λ…λ¦½ μ‹¤ν–‰ν• μ• ν”λ¦¬μΌ€μ΄μ…μ `package.json`μ—λ” μ•„λμ™€ κ°™μ€ μ¤„μ΄ ν¬ν•¨λ  μ μλ‹¤.

```json
// package.json

{
  "dependencies": {
    "react": "18.1.0"
  },
  "devDependencies": {
    "@types/react": "18.0.9"
  }
}
```

μ‹λ©ν‹± λ²„μ €λ‹semantic versioningμΈ β€`semver`β€ λ²νΈλ” `@types/` ν¨ν‚¤μ§€μ™€ ν¨ν‚¤μ§€κ°€ λ‚νƒ€λ‚΄λ” ν¨ν‚¤μ§€κ°€ μ„λ΅ λ°λ“μ‹ μΌμΉν•μ§€λ” μ•λ”λ‹¤. μ΄κΈ°μ λ¦¬μ•΅νΈ κ°™μ€ ν¨μΉ λ²„μ „, μ΄κΈ°μ `lodash` κ°™μ€ λ§μ΄λ„ λ²„μ „, μ‹¬μ§€μ–΄ λ©”μ΄μ € λ²„μ „μ—μ„ μΌμΉν•μ§€ μ•λ” λ¶€λ¶„μ„ μΆ…μΆ… λ°κ²¬ν•  μ μλ‹¤.

> π’΅ μ΄λ¬ν• νμΌμ€ μ»¤λ®¤λ‹ν‹°μ—μ„ μ‘μ„±λλ―€λ΅ μƒμ„ ν”„λ΅μ νΈλ³΄λ‹¤ λ’¤μ³μ§€κ±°λ‚ μ•½κ°„ λ¶€μ •ν™•ν•  μ μλ‹¤. ν”„λ΅μ νΈκ°€ μ„±κ³µμ μΌλ΅ μ»΄νμΌ λμ—μ§€λ§ λΌμ΄λΈλ¬λ¦¬λ¥Ό νΈμ¶ν•  λ• λ°νƒ€μ„ μ¤λ¥κ°€ λ°μƒν•λ©΄, μ ‘κ·Όν•κ³  μλ” APIμ μ„λ…μ΄ λ³€κ²½λμ—λ”μ§€ ν™•μΈν•μ. μ•μ •μ μΈ APIλ¥Ό κ°€μ§„ μ„±μ™ν• ν”„λ΅μ νΈλΌλ©΄ μΌλ°μ μΌλ΅ λ°μƒν•μ§€ μ•λμ§€λ§ μ „λ΅€κ°€ μ—†λ” κ²ƒμ€ μ•„λ‹λ‹¤.

## 6.1 νƒ€μ… μ‚¬μ© κ°€λ¥μ„±

κ°€μ¥ μΈκΈ° μλ” μλ°”μ¤ν¬λ¦½νΈ ν¨ν‚¤μ§€λ” μμ²΄ νƒ€μ΄ν•‘κ³Ό ν•¨κ» μ κ³µλκ±°λ‚ `DefinitelyTyped`λ¥Ό ν†µν•΄ νƒ€μ΄ν•‘ν•  μ μλ‹¤.

μ•„μ§ μ‚¬μ© κ°€λ¥ν• νƒ€μ…μ΄ μ—†λ” ν¨ν‚¤μ§€μ—μ„ νƒ€μ…μ„ μ–»λ” μΌλ°μ μΈ μ„Έ κ°€μ§€ μµμ…μ€ μ•„λμ™€ κ°™λ‹¤.

- `@types/` ν¨ν‚¤μ§€λ¥Ό μƒμ„±ν•κΈ° μ„ν•΄ `DefinitelyTyped`μ— ν’€ λ¦¬ν€μ¤νΈpull requestλ¥Ό λ³΄λ‚Έλ‹¤.
- μ•μ„ μ†κ°ν• `declare module` κµ¬λ¬Έμ„ μ‚¬μ©ν•΄ ν”„λ΅μ νΈ λ‚΄μ—μ„ νƒ€μ…μ„ μ‘μ„±ν•λ‹¤.
- `noImplicitAny` μµμ…μ„ λΉ„ν™μ„±ν™”ν•κ³  κ°•λ ¥ν•κ² κ²½κ³ ν•λ‹¤.
